<head>
    <!-- Other head elements -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>

  
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A blog about tech stuff">
      
      
        <meta name="author" content="matt.pollock@outlook.com">
      
      
        <link rel="canonical" href="https://blog.pollockweb.com/blog/category/devops/">
      
      
        <link rel="prev" href="../customization/">
      
      
        <link rel="next" href="../docker/">
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../assets/icons/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>DevOps - cloudlabmp</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-800NGKWBYL"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-800NGKWBYL",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-800NGKWBYL",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="DevOps - cloudlabmp" >
      
        <meta  property="og:description"  content="A blog about tech stuff" >
      
        <meta  property="og:image"  content="https://blog.pollockweb.com/assets/images/social/blog/category/devops.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://blog.pollockweb.com/blog/category/devops/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="DevOps - cloudlabmp" >
      
        <meta  name="twitter:description"  content="A blog about tech stuff" >
      
        <meta  name="twitter:image"  content="https://blog.pollockweb.com/assets/images/social/blog/category/devops.png" >
      
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#devops" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </button>
            
            
    <div class="announcement-content">
      <p>Welcome to my blog! Connect with me:</p>
      <a href="https://www.linkedin.com/in/matthew-pollock-76831920/" target="_blank" title="LinkedIn">
        <i class="fab fa-linkedin fa-2x"></i>
      </a>
      <a href="https://profile.pollockweb.com" target="_blank" title="profile.pollockweb.com">
        <i class="fas fa-globe fa-2x"></i>
      </a>
      <a href="https://github.com/cloudlabmp" target="_blank" title="GitHub">
        <i class="fab fa-github fa-2x"></i>
      </a>
      <a href="https://blog.pollockweb.com/feed_rss_created.xml" target="_blank" title="RSS Feed">
        <i class="fa-solid fa-rss fa-2x"></i>
      </a>
    </div>
  
          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://blog.pollockweb.com/blog/" title="cloudlabmp" class="md-header__button md-logo" aria-label="cloudlabmp" data-md-component="logo">
      
  <img src="../../../assets/icons/logo-48x48.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            cloudlabmp
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              DevOps
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/cloudlabmp/project-blog" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    cloudlabmp/project-blog
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../learn/" class="md-tabs__link">
        
  
    
  
  Learn

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../about/" class="md-tabs__link">
        
  
    
  
  About

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../work/" class="md-tabs__link">
        
  
    
  
  Work

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://blog.pollockweb.com/blog/" title="cloudlabmp" class="md-nav__button md-logo" aria-label="cloudlabmp" data-md-component="logo">
      
  <img src="../../../assets/icons/logo-48x48.png" alt="logo">

    </a>
    cloudlabmp
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cloudlabmp/project-blog" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    cloudlabmp/project-blog
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Posts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Posts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../archive/2025/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2025
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../ai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../ai--study-techniques/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI &amp; Study Techniques
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../ai-integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../aws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../application-insights/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application Insights
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../automation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../azure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../azure-openai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure OpenAI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../bcdr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BCDR
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../blogging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blogging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../cicd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CI/CD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../career-development/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Career Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../claude-code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Claude Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../cloud-architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../cloud-engineering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud Engineering
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../cloud-resume-challenge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud Resume Challenge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../containers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Containers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../customization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
      
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    DevOps
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    DevOps
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cloud-resume-challenge-with-terraform-final-reflections-future-directions" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud Resume Challenge with Terraform: Final Reflections &amp; Future Directions üéØ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud Resume Challenge with Terraform: Automating Deployments with GitHub Actions ‚ö°
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-resume-challenge-with-terraform-introduction-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud Resume Challenge with Terraform: Introduction &amp; Setup üöÄ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn" class="md-nav__link">
    <span class="md-ellipsis">
      How I Used ChatGPT to Create AZ-400 Exam Prep Notes from MSLearn
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../finops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FinOps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../gitops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitOps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../group-policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Group Policy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../iis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IIS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../iac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IaC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../identity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Identity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infrastructure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../intune/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intune
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../learning-projects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Learning Projects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../life-update/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Life Update
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../microsoft-certifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Microsoft Certifications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../mkdocs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MkDocs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../patch-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Patch Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../powershell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PowerShell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../projects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../rag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RAG
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../regional-settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Regional Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../scripting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scripting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../self-hosting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Self-Hosting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../serverless/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serverless
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../tech/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tech
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../terraform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terraform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../time-settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Time Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../vector-databases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vector Databases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../vibe-coding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vibe Coding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../web-hosting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web Hosting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../windows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../learn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Learn
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../work/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Work
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cloud-resume-challenge-with-terraform-final-reflections-future-directions" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud Resume Challenge with Terraform: Final Reflections &amp; Future Directions üéØ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud Resume Challenge with Terraform: Automating Deployments with GitHub Actions ‚ö°
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-resume-challenge-with-terraform-introduction-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud Resume Challenge with Terraform: Introduction &amp; Setup üöÄ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn" class="md-nav__link">
    <span class="md-ellipsis">
      How I Used ChatGPT to Create AZ-400 Exam Prep Notes from MSLearn
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="devops">DevOps</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://avatars.githubusercontent.com/u/110421070?s=400&v=4" alt="Matthew Pollock">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2025-03-21 00:00:00+00:00">March 21, 2025</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../aws/" class="md-meta__link">AWS</a>, 
              <a href="../terraform/" class="md-meta__link">Terraform</a>, 
              <a href="./" class="md-meta__link">DevOps</a>, 
              <a href="../career-development/" class="md-meta__link">Career Development</a>, 
              <a href="../cloud-resume-challenge/" class="md-meta__link">Cloud Resume Challenge</a></li>
        
        
          
          <li class="md-meta__item">
            
              6 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="cloud-resume-challenge-with-terraform-final-reflections-future-directions"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/">Cloud Resume Challenge with Terraform: Final Reflections &amp; Future Directions üéØ</a></h2>
<h3 id="journey-complete-what-weve-built"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#journey-complete-what-weve-built">Journey Complete: What We've Built üèóÔ∏è</a></h3>
<p>Over the course of this blog series, we've successfully completed the Cloud Resume Challenge using Terraform as our infrastructure-as-code tool. Let's recap what we've accomplished:</p>
<ol>
<li><strong>Set up our development environment</strong> with Terraform and AWS credentials</li>
<li><strong>Deployed a static website</strong> using S3, CloudFront, Route 53, and ACM</li>
<li><strong>Built a serverless backend API</strong> with API Gateway, Lambda, and DynamoDB</li>
<li><strong>Implemented CI/CD pipelines</strong> with GitHub Actions for automated deployments</li>
<li><strong>Added security enhancements</strong> like OIDC authentication and least-privilege IAM policies</li>
</ol>
<p>The final architecture we've created looks like this:</p>
<p><img alt="Basic Project Diagram" src="../../crc-aws/CRCArchitecture.png" /></p>
<p>The most valuable aspect of this project is that we've built a <strong>completely automated, production-quality cloud solution</strong>. Every component is defined as code, enabling us to track changes, rollback if needed, and redeploy the entire infrastructure with minimal effort.</p>
<h3 id="key-learnings-from-the-challenge"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#key-learnings-from-the-challenge">Key Learnings from the Challenge üß†</a></h3>
<h4 id="technical-skills-gained"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#technical-skills-gained">Technical Skills Gained üíª</a></h4>
<p>Throughout this challenge, I've gained significant technical skills:</p>
<ol>
<li><strong>Terraform expertise</strong>: I've moved from basic understanding to writing modular, reusable infrastructure code</li>
<li><strong>AWS service integration</strong>: Learned how multiple AWS services work together to create a cohesive system</li>
<li><strong>CI/CD implementation</strong>: Set up professional GitHub Actions workflows for continuous deployment</li>
<li><strong>Security best practices</strong>: Implemented OIDC, least privilege, encryption, and more</li>
<li><strong>Serverless architecture</strong>: Built and connected serverless components for a scalable, cost-effective solution</li>
</ol>
<h4 id="unexpected-challenges-solutions"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#unexpected-challenges-solutions">Unexpected Challenges &amp; Solutions üîÑ</a></h4>
<p>The journey wasn't without obstacles. Here are some challenges I faced and how I overcame them:</p>
<h5 id="1-state-management-complexity"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#1-state-management-complexity">1. State Management Complexity</a></h5>
<p><strong>Challenge</strong>: As the project grew, managing Terraform state became more complex, especially when working across different environments.</p>
<p><strong>Solution</strong>: I restructured the project to use workspaces and remote state with careful output references between modules. This improved state organization and made multi-environment deployments more manageable.</p>
<h5 id="2-cloudfront-cache-invalidation"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#2-cloudfront-cache-invalidation">2. CloudFront Cache Invalidation</a></h5>
<p><strong>Challenge</strong>: Updates to the website weren't immediately visible due to CloudFront caching.</p>
<p><strong>Solution</strong>: Implemented proper cache invalidation in the CI/CD pipeline and set appropriate cache behaviors for different file types.</p>
<h5 id="3-cors-configuration"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#3-cors-configuration">3. CORS Configuration</a></h5>
<p><strong>Challenge</strong>: The frontend JavaScript couldn't connect to the API due to CORS issues.</p>
<p><strong>Solution</strong>: Added comprehensive CORS handling at both the API Gateway and Lambda levels, ensuring proper headers were returned.</p>
<h5 id="4-cicd-authentication-security"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#4-cicd-authentication-security">4. CI/CD Authentication Security</a></h5>
<p><strong>Challenge</strong>: Initially used long-lived AWS credentials in GitHub Secrets, which posed security risks.</p>
<p><strong>Solution</strong>: Replaced with OIDC for keyless authentication between GitHub Actions and AWS, eliminating credential management concerns.</p>
<h3 id="real-world-applications-of-this-project"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#real-world-applications-of-this-project">Real-World Applications of This Project üåê</a></h3>
<p>The skills demonstrated in this challenge directly translate to real-world cloud engineering roles:</p>
<h4 id="1-infrastructure-as-code-expertise"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#1-infrastructure-as-code-expertise">1. Infrastructure as Code Expertise</a></h4>
<p>The ability to define, version, and automate infrastructure is increasingly essential in modern IT environments. This project showcases expertise with Terraform that can be applied to any cloud provider or on-premises infrastructure.</p>
<h4 id="2-devops-pipeline-creation"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#2-devops-pipeline-creation">2. DevOps Pipeline Creation</a></h4>
<p>Setting up CI/CD workflows that automate testing and deployment demonstrates key DevOps skills that organizations need to accelerate their development cycles.</p>
<h4 id="3-serverless-architecture-design"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#3-serverless-architecture-design">3. Serverless Architecture Design</a></h4>
<p>The backend API implementation shows understanding of event-driven, serverless architecture patterns that are becoming standard for new cloud applications.</p>
<h4 id="4-security-implementation"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#4-security-implementation">4. Security Implementation</a></h4>
<p>The security considerations throughout the project - from IAM roles to OIDC authentication - demonstrate the ability to build secure systems from the ground up.</p>
<h3 id="maintaining-your-cloud-resume"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#maintaining-your-cloud-resume">Maintaining Your Cloud Resume üîß</a></h3>
<p>Now that your resume is live, here are some tips for maintaining it:</p>
<h4 id="1-regular-updates"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#1-regular-updates">1. Regular Updates</a></h4>
<p>Set a schedule to update both your resume content and the underlying infrastructure. I recommend:</p>
<ul>
<li>Monthly content refreshes to keep your experience and skills current</li>
<li>Quarterly infrastructure reviews to apply security patches and update dependencies</li>
<li>Annual architecture reviews to consider new AWS services or features</li>
</ul>
<h4 id="2-cost-management"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#2-cost-management">2. Cost Management</a></h4>
<p>While this solution is relatively inexpensive, it's good practice to set up AWS Budgets and alerts to monitor costs. My current monthly costs are approximately:</p>
<ul>
<li><strong>S3</strong>: ~$0.10 for storage</li>
<li><strong>CloudFront</strong>: ~$0.50 for data transfer</li>
<li><strong>Route 53</strong>: $0.50 for hosted zone</li>
<li><strong>Lambda</strong>: Free tier covers typical usage</li>
<li><strong>DynamoDB</strong>: Free tier covers typical usage</li>
<li><strong>API Gateway</strong>: ~$1.00 for API calls</li>
<li><strong>Total</strong>: ~$2.10/month</li>
</ul>
<h4 id="3-monitoring-and-alerting"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#3-monitoring-and-alerting">3. Monitoring and Alerting</a></h4>
<p>I've set up CloudWatch alarms for:</p>
<ul>
<li>API errors exceeding normal thresholds</li>
<li>Unusual traffic patterns that might indicate abuse</li>
<li>Lambda function failures</li>
</ul>
<p>Consider adding application performance monitoring tools like AWS X-Ray for deeper insights.</p>
<h3 id="future-enhancements"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#future-enhancements">Future Enhancements üöÄ</a></h3>
<p>There are many ways to extend this project further:</p>
<h4 id="1-content-management-system-integration"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#1-content-management-system-integration">1. Content Management System Integration</a></h4>
<p>Add a headless CMS like Contentful or Sanity to make resume updates easier without needing to edit HTML directly:</p>
<div class="language-hcl highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kr">module</span><span class="w"> </span><span class="nv">&quot;contentful_integration&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span><span class="na">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;./modules/contentful&quot;</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">  </span><span class="na">api_key</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">var.contentful_api_key</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">  </span><span class="na">space_id</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">var.contentful_space_id</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">  </span><span class="na">environment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.environment</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="p">}</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_lambda_function&quot;</span><span class="w"> </span><span class="nv">&quot;content_sync&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">  </span><span class="na">function_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;resume-content-sync-${var.environment}&quot;</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">  </span><span class="na">handler</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;index.handler&quot;</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">  </span><span class="na">runtime</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;nodejs14.x&quot;</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="w">  </span><span class="na">role</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.content_sync_role.arn</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="w">  </span><span class="nb">environment</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="w">    </span><span class="nb">variables</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="w">      </span><span class="na">CONTENTFUL_API_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.contentful_api_key</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="w">      </span><span class="na">CONTENTFUL_SPACE_ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.contentful_space_id</span>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="w">      </span><span class="na">S3_BUCKET</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">module.frontend.website_bucket_name</span>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-8-22"><a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="2-advanced-analytics"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#2-advanced-analytics">2. Advanced Analytics</a></h4>
<p>Implement sophisticated visitor analytics beyond simple counting:</p>
<div class="language-hcl highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_kinesis_firehose_delivery_stream&quot;</span><span class="w"> </span><span class="nv">&quot;visitor_analytics&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;resume-visitor-analytics-${var.environment}&quot;</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span><span class="na">destination</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;extended_s3&quot;</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">  </span><span class="nb">extended_s3_configuration</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="na">role_arn</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.firehose_role.arn</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">    </span><span class="na">bucket_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_s3_bucket.analytics.arn</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">    </span><span class="nb">processing_configuration</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">      </span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;true&quot;</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="w">      </span><span class="nb">processors</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">        </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Lambda&quot;</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">        </span><span class="nb">parameters</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">          </span><span class="na">parameter_name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LambdaArn&quot;</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">          </span><span class="na">parameter_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_lambda_function.analytics_processor.arn</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="p">}</span>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a>
</span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_athena_workgroup&quot;</span><span class="w"> </span><span class="nv">&quot;analytics&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;resume-analytics-${var.environment}&quot;</span>
</span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a>
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="w">  </span><span class="nb">configuration</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="w">    </span><span class="nb">result_configuration</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="w">      </span><span class="na">output_location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;s3://${aws_s3_bucket.analytics_results.bucket}/results/&quot;</span>
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-9-32"><a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="3-multi-region-deployment"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#3-multi-region-deployment">3. Multi-Region Deployment</a></h4>
<p>Enhance reliability and performance by deploying to multiple AWS regions:</p>
<div class="language-hcl highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kr">module</span><span class="w"> </span><span class="nv">&quot;frontend_us_east_1&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">  </span><span class="na">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;./modules/frontend&quot;</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">  </span><span class="nb">providers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="na">aws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws.us_east_1</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="c1">  # Configuration for US East region</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="p">}</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="kr">module</span><span class="w"> </span><span class="nv">&quot;frontend_eu_west_1&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">  </span><span class="na">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;./modules/frontend&quot;</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">  </span><span class="nb">providers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">    </span><span class="na">aws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws.eu_west_1</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="c1">  # Configuration for EU West region</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="p">}</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_route53_health_check&quot;</span><span class="w"> </span><span class="nv">&quot;primary_region&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="w">  </span><span class="na">fqdn</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="nv">module.frontend_us_east_1.cloudfront_domain_name</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">  </span><span class="na">port</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="m">443</span>
</span><span id="__span-10-24"><a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="w">  </span><span class="na">type</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;HTTPS&quot;</span>
</span><span id="__span-10-25"><a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="w">  </span><span class="na">resource_path</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/&quot;</span>
</span><span id="__span-10-26"><a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="w">  </span><span class="na">failure_threshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span>
</span><span id="__span-10-27"><a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="w">  </span><span class="na">request_interval</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="m">30</span>
</span><span id="__span-10-28"><a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="p">}</span>
</span><span id="__span-10-29"><a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a>
</span><span id="__span-10-30"><a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_route53_record&quot;</span><span class="w"> </span><span class="nv">&quot;global&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-31"><a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="w">  </span><span class="na">zone_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">data.aws_route53_zone.selected.zone_id</span>
</span><span id="__span-10-32"><a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="w">  </span><span class="na">name</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nv">var.domain_name</span>
</span><span id="__span-10-33"><a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a><span class="w">  </span><span class="na">type</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;CNAME&quot;</span>
</span><span id="__span-10-34"><a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a>
</span><span id="__span-10-35"><a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="w">  </span><span class="nb">failover_routing_policy</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-36"><a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a><span class="w">    </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;PRIMARY&quot;</span>
</span><span id="__span-10-37"><a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-10-38"><a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a>
</span><span id="__span-10-39"><a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="w">  </span><span class="na">health_check_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_route53_health_check.primary_region.id</span>
</span><span id="__span-10-40"><a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="w">  </span><span class="na">set_identifier</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;primary&quot;</span>
</span><span id="__span-10-41"><a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a><span class="w">  </span><span class="na">records</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nv">module.frontend_us_east_1.cloudfront_domain_name</span><span class="p">]</span>
</span><span id="__span-10-42"><a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="w">  </span><span class="na">ttl</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="m">300</span>
</span><span id="__span-10-43"><a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="4-infrastructure-testing"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#4-infrastructure-testing">4. Infrastructure Testing</a></h4>
<p>Add comprehensive testing using Terratest:</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kn">package</span><span class="w"> </span><span class="nx">test</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="kn">import</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">    </span><span class="s">&quot;testing&quot;</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">    </span><span class="s">&quot;github.com/gruntwork-io/terratest/modules/terraform&quot;</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">    </span><span class="s">&quot;github.com/stretchr/testify/assert&quot;</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="p">)</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="kd">func</span><span class="w"> </span><span class="nx">TestResumeFrontend</span><span class="p">(</span><span class="nx">t</span><span class="w"> </span><span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">    </span><span class="nx">terraformOptions</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">terraform</span><span class="p">.</span><span class="nx">WithDefaultRetryableErrors</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">terraform</span><span class="p">.</span><span class="nx">Options</span><span class="p">{</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">        </span><span class="nx">TerraformDir</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;../modules/frontend&quot;</span><span class="p">,</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">        </span><span class="nx">Vars</span><span class="p">:</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">            </span><span class="s">&quot;environment&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p">,</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">            </span><span class="s">&quot;domain_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;test.example.com&quot;</span><span class="p">,</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">    </span><span class="p">})</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="nx">terraform</span><span class="p">.</span><span class="nx">Destroy</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="nx">terraformOptions</span><span class="p">)</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="w">    </span><span class="nx">terraform</span><span class="p">.</span><span class="nx">InitAndApply</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="nx">terraformOptions</span><span class="p">)</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="w">    </span><span class="c1">// Verify outputs</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="w">    </span><span class="nx">bucketName</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">terraform</span><span class="p">.</span><span class="nx">Output</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="nx">terraformOptions</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;website_bucket_name&quot;</span><span class="p">)</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="w">    </span><span class="nx">assert</span><span class="p">.</span><span class="nx">Contains</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="w"> </span><span class="nx">bucketName</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;resume-website-test&quot;</span><span class="p">)</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="career-impact-personal-growth"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#career-impact-personal-growth">Career Impact &amp; Personal Growth üìà</a></h3>
<p>Completing this challenge has had a significant impact on my career development:</p>
<h4 id="technical-growth"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#technical-growth">Technical Growth</a></h4>
<p>I've moved from basic cloud knowledge to being able to architect and implement complex, multi-service solutions. The hands-on experience with Terraform has been particularly valuable, as it's a highly sought-after skill in the job market.</p>
<h4 id="portfolio-enhancement"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#portfolio-enhancement">Portfolio Enhancement</a></h4>
<p>This project now serves as both my resume and a demonstration of my cloud engineering capabilities. I've included the GitHub repository links on my resume, allowing potential employers to see the code behind the deployment.</p>
<h4 id="community-engagement"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#community-engagement">Community Engagement</a></h4>
<p>Sharing this project through blog posts has connected me with the broader cloud community. The feedback and discussions have been invaluable for refining my approach and learning from others.</p>
<h3 id="final-thoughts"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#final-thoughts">Final Thoughts üí≠</a></h3>
<p>The Cloud Resume Challenge has been an invaluable learning experience. By implementing it with Terraform, I've gained practical experience with both AWS services and infrastructure as code - skills that are directly applicable to professional cloud engineering roles.</p>
<p>What makes this challenge particularly powerful is how it combines so many aspects of modern cloud development:</p>
<ul>
<li>Front-end web development</li>
<li>Back-end serverless APIs</li>
<li>Infrastructure as code</li>
<li>CI/CD automation</li>
<li>Security implementation</li>
<li>DNS configuration</li>
<li>Content delivery networks</li>
</ul>
<p>If you're following along with this series, I encourage you to customize and extend the project to showcase your unique skills and interests. The foundational architecture we've built provides a flexible platform that can evolve with your career.</p>
<p>For those just starting their cloud journey, this challenge offers a perfect blend of practical skills in a realistic project that demonstrates end-to-end capabilities. It's far more valuable than isolated tutorials or theoretical knowledge alone.</p>
<p>The cloud engineering field continues to evolve rapidly, but the principles we've applied throughout this project - automation, security, scalability, and operational excellence - remain constants regardless of which specific technologies are in favor.</p>
<h3 id="whats-next"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-final-reflections--future-directions/#whats-next">What's Next? üîÆ</a></h3>
<p>While this concludes our Cloud Resume Challenge series, my cloud learning journey continues. Some areas I'm exploring next include:</p>
<ul>
<li>Kubernetes and container orchestration</li>
<li>Infrastructure testing frameworks</li>
<li>Cloud cost optimization</li>
<li>Multi-cloud deployments</li>
<li>Infrastructure security scanning</li>
<li>Service mesh implementations</li>
</ul>
<p>I hope this series has been helpful in your own cloud journey. Feel free to reach out with questions or to share your own implementations of the challenge!</p>
<hr />
<p>This post concludes our Cloud Resume Challenge with Terraform series. Thanks for following along!</p>
<p>Want to see the Cloud Resume Challenge in action? Visit <a href="https://resume.example.com">my resume website</a> and check out the <a href="https://profile.pollockweb.com">GitHub repositories</a> for the complete code.</p>
<p><a class="md-button" href="https://x.com/intent/tweet?text=Cloud%20Resume%20Challenge%20with%20Terraform%3A%20Final%20Reflections%20%26%20Future%20Directions%0A&amp;url=https://blog.pollockweb.com/blog/cloud-resume-challenge-with-terraform-final-reflections--future-directions/">Share on <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg></span></a>
<a class="md-button" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.pollockweb.com/blog/cloud-resume-challenge-with-terraform-final-reflections--future-directions/">Share on <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a9 9 0 0 1 1.141.195v3.325a9 9 0 0 0-.653-.036 27 27 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.7 1.7 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647"/></svg></span></a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://avatars.githubusercontent.com/u/110421070?s=400&v=4" alt="Matthew Pollock">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2025-03-20 00:00:00+00:00">March 20, 2025</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../aws/" class="md-meta__link">AWS</a>, 
              <a href="../terraform/" class="md-meta__link">Terraform</a>, 
              <a href="./" class="md-meta__link">DevOps</a>, 
              <a href="../cicd/" class="md-meta__link">CI/CD</a>, 
              <a href="../cloud-resume-challenge/" class="md-meta__link">Cloud Resume Challenge</a></li>
        
        
          
          <li class="md-meta__item">
            
              14 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/">Cloud Resume Challenge with Terraform: Automating Deployments with GitHub Actions ‚ö°</a></h2>
<p>In our <a href="../../cloud-resume-challenge-with-terraform-building-the-backend-api/">previous posts</a>, we built the frontend and backend components of our cloud resume project. Now it's time to take our implementation to the next level by implementing <strong>continuous integration and deployment (CI/CD)</strong> with GitHub Actions.</p>
<h3 id="why-cicd-is-critical-for-cloud-engineers"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#why-cicd-is-critical-for-cloud-engineers">Why CI/CD Is Critical for Cloud Engineers üõ†Ô∏è</a></h3>
<p>When I first started this challenge, I manually ran <code>terraform apply</code> every time I made a change. This quickly became tedious and error-prone. As a cloud engineer, I wanted to demonstrate a professional approach to infrastructure management by implementing proper CI/CD pipelines.</p>
<p>Automating deployments offers several key benefits:</p>
<ul>
<li><strong>Consistency</strong>: Every deployment follows the same process</li>
<li><strong>Efficiency</strong>: No more manual steps or waiting around</li>
<li><strong>Safety</strong>: Automated tests catch issues before they reach production</li>
<li><strong>Auditability</strong>: Each change is tracked with a commit and workflow run</li>
</ul>
<p>This approach mirrors how professional cloud teams work and is a crucial skill for any cloud engineer.</p>
<h3 id="cicd-architecture-overview"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#cicd-architecture-overview">CI/CD Architecture Overview üèóÔ∏è</a></h3>
<p>Here's a visual representation of our CI/CD pipelines:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>‚îÇ             ‚îÇ          ‚îÇ                 ‚îÇ          ‚îÇ             ‚îÇ
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>‚îÇ  Developer  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ  GitHub Actions ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ  AWS Cloud  ‚îÇ
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>‚îÇ  Workstation‚îÇ          ‚îÇ                 ‚îÇ          ‚îÇ             ‚îÇ
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>       ‚îÇ                          ‚îÇ                          ‚ñ≤
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a>       ‚îÇ                          ‚îÇ                          ‚îÇ
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a>       ‚ñº                          ‚ñº                          ‚îÇ
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                 ‚îÇ
</span><span id="__span-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a>‚îÇ             ‚îÇ          ‚îÇ                 ‚îÇ                 ‚îÇ
</span><span id="__span-44-11"><a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a>‚îÇ   GitHub    ‚îÇ          ‚îÇ  Terraform      ‚îÇ                 ‚îÇ
</span><span id="__span-44-12"><a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a>‚îÇ Repositories‚îÇ          ‚îÇ  Plan &amp; Apply   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</span><span id="__span-44-13"><a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a>‚îÇ             ‚îÇ          ‚îÇ                 ‚îÇ
</span><span id="__span-44-14"><a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a>‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</span></code></pre></div>
<p>We'll set up separate workflows for:</p>
<ol>
<li><strong>Frontend deployment</strong>: Updates the S3 website content and invalidates CloudFront</li>
<li><strong>Backend deployment</strong>: Runs Terraform to update our API infrastructure</li>
<li><strong>Smoke tests</strong>: Verifies that both components are working correctly after deployment</li>
</ol>
<h3 id="setting-up-github-repositories"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#setting-up-github-repositories">Setting Up GitHub Repositories üìÅ</a></h3>
<p>For this challenge, I've created two repositories:</p>
<ul>
<li><code>cloud-resume-frontend</code>: Contains HTML, CSS, JavaScript, and frontend deployment workflows</li>
<li><code>cloud-resume-backend</code>: Contains Terraform configuration, Lambda code, and backend deployment workflows</li>
</ul>
<h4 id="repository-structure"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#repository-structure">Repository Structure</a></h4>
<p>Here's how I've organized my repositories:</p>
<p><strong>Frontend Repository</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>cloud-resume-frontend/
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>‚îú‚îÄ‚îÄ .github/
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a>‚îÇ   ‚îî‚îÄ‚îÄ workflows/
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a>‚îÇ       ‚îî‚îÄ‚îÄ deploy.yml
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a>‚îú‚îÄ‚îÄ website/
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>‚îÇ   ‚îú‚îÄ‚îÄ index.html
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a>‚îÇ   ‚îú‚îÄ‚îÄ styles.css
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a>‚îÇ   ‚îú‚îÄ‚îÄ counter.js
</span><span id="__span-45-9"><a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a>‚îÇ   ‚îî‚îÄ‚îÄ error.html
</span><span id="__span-45-10"><a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a>‚îú‚îÄ‚îÄ tests/
</span><span id="__span-45-11"><a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a>‚îÇ   ‚îî‚îÄ‚îÄ cypress/
</span><span id="__span-45-12"><a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a>‚îÇ       ‚îî‚îÄ‚îÄ integration/
</span><span id="__span-45-13"><a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a>‚îÇ           ‚îî‚îÄ‚îÄ counter.spec.js
</span><span id="__span-45-14"><a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a>‚îî‚îÄ‚îÄ README.md
</span></code></pre></div>
<p><strong>Backend Repository</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>cloud-resume-backend/
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>‚îú‚îÄ‚îÄ .github/
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a>‚îÇ   ‚îî‚îÄ‚îÄ workflows/
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a>‚îÇ       ‚îî‚îÄ‚îÄ deploy.yml
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a>‚îú‚îÄ‚îÄ lambda/
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>‚îÇ   ‚îî‚îÄ‚îÄ visitor_counter.py
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a>‚îú‚îÄ‚îÄ terraform/
</span><span id="__span-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a>‚îÇ   ‚îú‚îÄ‚îÄ modules/
</span><span id="__span-46-9"><a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ backend/
</span><span id="__span-46-10"><a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a>‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api_gateway.tf
</span><span id="__span-46-11"><a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a>‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dynamodb.tf
</span><span id="__span-46-12"><a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a>‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lambda.tf
</span><span id="__span-46-13"><a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a>‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
</span><span id="__span-46-14"><a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a>‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
</span><span id="__span-46-15"><a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a>‚îÇ   ‚îú‚îÄ‚îÄ environments/
</span><span id="__span-46-16"><a id="__codelineno-46-16" name="__codelineno-46-16" href="#__codelineno-46-16"></a>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dev/
</span><span id="__span-46-17"><a id="__codelineno-46-17" name="__codelineno-46-17" href="#__codelineno-46-17"></a>‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.tf
</span><span id="__span-46-18"><a id="__codelineno-46-18" name="__codelineno-46-18" href="#__codelineno-46-18"></a>‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ prod/
</span><span id="__span-46-19"><a id="__codelineno-46-19" name="__codelineno-46-19" href="#__codelineno-46-19"></a>‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ main.tf
</span><span id="__span-46-20"><a id="__codelineno-46-20" name="__codelineno-46-20" href="#__codelineno-46-20"></a>‚îÇ   ‚îú‚îÄ‚îÄ main.tf
</span><span id="__span-46-21"><a id="__codelineno-46-21" name="__codelineno-46-21" href="#__codelineno-46-21"></a>‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
</span><span id="__span-46-22"><a id="__codelineno-46-22" name="__codelineno-46-22" href="#__codelineno-46-22"></a>‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
</span><span id="__span-46-23"><a id="__codelineno-46-23" name="__codelineno-46-23" href="#__codelineno-46-23"></a>‚îú‚îÄ‚îÄ tests/
</span><span id="__span-46-24"><a id="__codelineno-46-24" name="__codelineno-46-24" href="#__codelineno-46-24"></a>‚îÇ   ‚îî‚îÄ‚îÄ test_visitor_counter.py
</span><span id="__span-46-25"><a id="__codelineno-46-25" name="__codelineno-46-25" href="#__codelineno-46-25"></a>‚îî‚îÄ‚îÄ README.md
</span></code></pre></div>
<h3 id="securing-aws-authentication-in-github-actions"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#securing-aws-authentication-in-github-actions">Securing AWS Authentication in GitHub Actions üîí</a></h3>
<p>Before setting up our workflows, we need to address a critical security concern: <strong>how to securely authenticate GitHub Actions with AWS</strong>.</p>
<p>In the past, many tutorials recommended storing AWS access keys as GitHub Secrets. This approach works but has significant security drawbacks:</p>
<ul>
<li>Long-lived credentials are a security risk</li>
<li>Credential rotation is manual and error-prone</li>
<li>Access is typically overly permissive</li>
</ul>
<p>Instead, I'll implement a more secure approach using <strong>OpenID Connect (OIDC)</strong> for keyless authentication between GitHub Actions and AWS.</p>
<h4 id="setting-up-oidc-authentication"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#setting-up-oidc-authentication">Setting Up OIDC Authentication</a></h4>
<p>First, create an IAM OIDC provider for GitHub in your AWS account:</p>
<div class="language-hcl highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="c1"># oidc-provider.tf</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_iam_openid_connect_provider&quot;</span><span class="w"> </span><span class="nv">&quot;github&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">  </span><span class="na">url</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;https://token.actions.githubusercontent.com&quot;</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">  </span><span class="na">client_id_list</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;sts.amazonaws.com&quot;</span><span class="p">]</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">  </span><span class="na">thumbprint_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;6938fd4d98bab03faadb97b34396831e3780aea1&quot;</span><span class="p">]</span>
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="p">}</span>
</span></code></pre></div>
<p>Then, create an IAM role that GitHub Actions can assume:</p>
<div class="language-hcl highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="c1"># oidc-role.tf</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_iam_role&quot;</span><span class="w"> </span><span class="nv">&quot;github_actions&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;github-actions-role&quot;</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="w">  </span><span class="na">assume_role_policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="w">    </span><span class="na">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;2012-10-17&quot;</span>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="w">    </span><span class="na">Statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-48-9"><a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="w">        </span><span class="na">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;sts:AssumeRoleWithWebIdentity&quot;</span>
</span><span id="__span-48-10"><a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="w">        </span><span class="na">Effect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span>
</span><span id="__span-48-11"><a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="w">        </span><span class="nb">Principal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-48-12"><a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="w">          </span><span class="na">Federated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_openid_connect_provider.github.arn</span>
</span><span id="__span-48-13"><a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-48-14"><a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="w">        </span><span class="nb">Condition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-48-15"><a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a><span class="w">          </span><span class="nb">StringEquals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-48-16"><a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a><span class="w">            </span><span class="s2">&quot;token.actions.githubusercontent.com:aud&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;sts.amazonaws.com&quot;</span>
</span><span id="__span-48-17"><a id="__codelineno-48-17" name="__codelineno-48-17" href="#__codelineno-48-17"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-48-18"><a id="__codelineno-48-18" name="__codelineno-48-18" href="#__codelineno-48-18"></a><span class="w">          </span><span class="nb">StringLike</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-48-19"><a id="__codelineno-48-19" name="__codelineno-48-19" href="#__codelineno-48-19"></a><span class="w">            </span><span class="s2">&quot;token.actions.githubusercontent.com:sub&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;repo:${var.github_org}/${var.github_repo}:*&quot;</span>
</span><span id="__span-48-20"><a id="__codelineno-48-20" name="__codelineno-48-20" href="#__codelineno-48-20"></a><span class="w">          </span><span class="p">}</span>
</span><span id="__span-48-21"><a id="__codelineno-48-21" name="__codelineno-48-21" href="#__codelineno-48-21"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-48-22"><a id="__codelineno-48-22" name="__codelineno-48-22" href="#__codelineno-48-22"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-48-23"><a id="__codelineno-48-23" name="__codelineno-48-23" href="#__codelineno-48-23"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-48-24"><a id="__codelineno-48-24" name="__codelineno-48-24" href="#__codelineno-48-24"></a><span class="w">  </span><span class="p">})</span>
</span><span id="__span-48-25"><a id="__codelineno-48-25" name="__codelineno-48-25" href="#__codelineno-48-25"></a><span class="p">}</span>
</span><span id="__span-48-26"><a id="__codelineno-48-26" name="__codelineno-48-26" href="#__codelineno-48-26"></a>
</span><span id="__span-48-27"><a id="__codelineno-48-27" name="__codelineno-48-27" href="#__codelineno-48-27"></a><span class="c1"># Attach policies to the role</span>
</span><span id="__span-48-28"><a id="__codelineno-48-28" name="__codelineno-48-28" href="#__codelineno-48-28"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_iam_role_policy_attachment&quot;</span><span class="w"> </span><span class="nv">&quot;terraform_permissions&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-48-29"><a id="__codelineno-48-29" name="__codelineno-48-29" href="#__codelineno-48-29"></a><span class="w">  </span><span class="na">role</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_role.github_actions.name</span>
</span><span id="__span-48-30"><a id="__codelineno-48-30" name="__codelineno-48-30" href="#__codelineno-48-30"></a><span class="w">  </span><span class="na">policy_arn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_iam_policy.terraform_permissions.arn</span>
</span><span id="__span-48-31"><a id="__codelineno-48-31" name="__codelineno-48-31" href="#__codelineno-48-31"></a><span class="p">}</span>
</span><span id="__span-48-32"><a id="__codelineno-48-32" name="__codelineno-48-32" href="#__codelineno-48-32"></a>
</span><span id="__span-48-33"><a id="__codelineno-48-33" name="__codelineno-48-33" href="#__codelineno-48-33"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_iam_policy&quot;</span><span class="w"> </span><span class="nv">&quot;terraform_permissions&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-48-34"><a id="__codelineno-48-34" name="__codelineno-48-34" href="#__codelineno-48-34"></a><span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;terraform-deployment-policy&quot;</span>
</span><span id="__span-48-35"><a id="__codelineno-48-35" name="__codelineno-48-35" href="#__codelineno-48-35"></a><span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Policy for Terraform deployments via GitHub Actions&quot;</span>
</span><span id="__span-48-36"><a id="__codelineno-48-36" name="__codelineno-48-36" href="#__codelineno-48-36"></a>
</span><span id="__span-48-37"><a id="__codelineno-48-37" name="__codelineno-48-37" href="#__codelineno-48-37"></a><span class="w">  </span><span class="na">policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">jsonencode</span><span class="p">({</span>
</span><span id="__span-48-38"><a id="__codelineno-48-38" name="__codelineno-48-38" href="#__codelineno-48-38"></a><span class="w">    </span><span class="na">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;2012-10-17&quot;</span>
</span><span id="__span-48-39"><a id="__codelineno-48-39" name="__codelineno-48-39" href="#__codelineno-48-39"></a><span class="w">    </span><span class="na">Statement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-48-40"><a id="__codelineno-48-40" name="__codelineno-48-40" href="#__codelineno-48-40"></a><span class="w">      </span><span class="p">{</span>
</span><span id="__span-48-41"><a id="__codelineno-48-41" name="__codelineno-48-41" href="#__codelineno-48-41"></a><span class="w">        </span><span class="na">Action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-48-42"><a id="__codelineno-48-42" name="__codelineno-48-42" href="#__codelineno-48-42"></a><span class="w">          </span><span class="s2">&quot;s3:*&quot;</span><span class="p">,</span>
</span><span id="__span-48-43"><a id="__codelineno-48-43" name="__codelineno-48-43" href="#__codelineno-48-43"></a><span class="w">          </span><span class="s2">&quot;cloudfront:*&quot;</span><span class="p">,</span>
</span><span id="__span-48-44"><a id="__codelineno-48-44" name="__codelineno-48-44" href="#__codelineno-48-44"></a><span class="w">          </span><span class="s2">&quot;route53:*&quot;</span><span class="p">,</span>
</span><span id="__span-48-45"><a id="__codelineno-48-45" name="__codelineno-48-45" href="#__codelineno-48-45"></a><span class="w">          </span><span class="s2">&quot;acm:*&quot;</span><span class="p">,</span>
</span><span id="__span-48-46"><a id="__codelineno-48-46" name="__codelineno-48-46" href="#__codelineno-48-46"></a><span class="w">          </span><span class="s2">&quot;lambda:*&quot;</span><span class="p">,</span>
</span><span id="__span-48-47"><a id="__codelineno-48-47" name="__codelineno-48-47" href="#__codelineno-48-47"></a><span class="w">          </span><span class="s2">&quot;apigateway:*&quot;</span><span class="p">,</span>
</span><span id="__span-48-48"><a id="__codelineno-48-48" name="__codelineno-48-48" href="#__codelineno-48-48"></a><span class="w">          </span><span class="s2">&quot;dynamodb:*&quot;</span><span class="p">,</span>
</span><span id="__span-48-49"><a id="__codelineno-48-49" name="__codelineno-48-49" href="#__codelineno-48-49"></a><span class="w">          </span><span class="s2">&quot;logs:*&quot;</span><span class="p">,</span>
</span><span id="__span-48-50"><a id="__codelineno-48-50" name="__codelineno-48-50" href="#__codelineno-48-50"></a><span class="w">          </span><span class="s2">&quot;iam:GetRole&quot;</span><span class="p">,</span>
</span><span id="__span-48-51"><a id="__codelineno-48-51" name="__codelineno-48-51" href="#__codelineno-48-51"></a><span class="w">          </span><span class="s2">&quot;iam:PassRole&quot;</span><span class="p">,</span>
</span><span id="__span-48-52"><a id="__codelineno-48-52" name="__codelineno-48-52" href="#__codelineno-48-52"></a><span class="w">          </span><span class="s2">&quot;iam:CreateRole&quot;</span><span class="p">,</span>
</span><span id="__span-48-53"><a id="__codelineno-48-53" name="__codelineno-48-53" href="#__codelineno-48-53"></a><span class="w">          </span><span class="s2">&quot;iam:DeleteRole&quot;</span><span class="p">,</span>
</span><span id="__span-48-54"><a id="__codelineno-48-54" name="__codelineno-48-54" href="#__codelineno-48-54"></a><span class="w">          </span><span class="s2">&quot;iam:PutRolePolicy&quot;</span><span class="p">,</span>
</span><span id="__span-48-55"><a id="__codelineno-48-55" name="__codelineno-48-55" href="#__codelineno-48-55"></a><span class="w">          </span><span class="s2">&quot;iam:DeleteRolePolicy&quot;</span><span class="p">,</span>
</span><span id="__span-48-56"><a id="__codelineno-48-56" name="__codelineno-48-56" href="#__codelineno-48-56"></a><span class="w">          </span><span class="s2">&quot;iam:AttachRolePolicy&quot;</span><span class="p">,</span>
</span><span id="__span-48-57"><a id="__codelineno-48-57" name="__codelineno-48-57" href="#__codelineno-48-57"></a><span class="w">          </span><span class="s2">&quot;iam:DetachRolePolicy&quot;</span>
</span><span id="__span-48-58"><a id="__codelineno-48-58" name="__codelineno-48-58" href="#__codelineno-48-58"></a><span class="w">        </span><span class="p">]</span>
</span><span id="__span-48-59"><a id="__codelineno-48-59" name="__codelineno-48-59" href="#__codelineno-48-59"></a><span class="w">        </span><span class="na">Effect</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Allow&quot;</span>
</span><span id="__span-48-60"><a id="__codelineno-48-60" name="__codelineno-48-60" href="#__codelineno-48-60"></a><span class="w">        </span><span class="na">Resource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;*&quot;</span>
</span><span id="__span-48-61"><a id="__codelineno-48-61" name="__codelineno-48-61" href="#__codelineno-48-61"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-48-62"><a id="__codelineno-48-62" name="__codelineno-48-62" href="#__codelineno-48-62"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-48-63"><a id="__codelineno-48-63" name="__codelineno-48-63" href="#__codelineno-48-63"></a><span class="w">  </span><span class="p">})</span>
</span><span id="__span-48-64"><a id="__codelineno-48-64" name="__codelineno-48-64" href="#__codelineno-48-64"></a><span class="p">}</span>
</span></code></pre></div>
<p>For a production environment, I would use more fine-grained permissions, but this policy works for our demonstration.</p>
<h3 id="implementing-frontend-cicd-workflow"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#implementing-frontend-cicd-workflow">Implementing Frontend CI/CD Workflow üîÑ</a></h3>
<p>Let's create a GitHub Actions workflow for our frontend repository. Create a file at <code>.github/workflows/deploy.yml</code>:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploy Frontend</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="nt">on</span><span class="p">:</span>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="w">  </span><span class="nt">push</span><span class="p">:</span>
</span><span id="__span-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="w">    </span><span class="nt">branches</span><span class="p">:</span>
</span><span id="__span-49-6"><a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">main</span>
</span><span id="__span-49-7"><a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="w">    </span><span class="nt">paths</span><span class="p">:</span>
</span><span id="__span-49-8"><a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;website/**&#39;</span>
</span><span id="__span-49-9"><a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;.github/workflows/deploy.yml&#39;</span>
</span><span id="__span-49-10"><a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a>
</span><span id="__span-49-11"><a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a><span class="w">  </span><span class="nt">workflow_dispatch</span><span class="p">:</span>
</span><span id="__span-49-12"><a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a>
</span><span id="__span-49-13"><a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a><span class="nt">permissions</span><span class="p">:</span>
</span><span id="__span-49-14"><a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a><span class="w">  </span><span class="nt">id-token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
</span><span id="__span-49-15"><a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a><span class="w">  </span><span class="nt">contents</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">read</span>
</span><span id="__span-49-16"><a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a>
</span><span id="__span-49-17"><a id="__codelineno-49-17" name="__codelineno-49-17" href="#__codelineno-49-17"></a><span class="nt">jobs</span><span class="p">:</span>
</span><span id="__span-49-18"><a id="__codelineno-49-18" name="__codelineno-49-18" href="#__codelineno-49-18"></a><span class="w">  </span><span class="nt">deploy</span><span class="p">:</span>
</span><span id="__span-49-19"><a id="__codelineno-49-19" name="__codelineno-49-19" href="#__codelineno-49-19"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Deploy</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">S3</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">Invalidate</span><span class="nv"> </span><span class="s">CloudFront&#39;</span>
</span><span id="__span-49-20"><a id="__codelineno-49-20" name="__codelineno-49-20" href="#__codelineno-49-20"></a><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id="__span-49-21"><a id="__codelineno-49-21" name="__codelineno-49-21" href="#__codelineno-49-21"></a>
</span><span id="__span-49-22"><a id="__codelineno-49-22" name="__codelineno-49-22" href="#__codelineno-49-22"></a><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-49-23"><a id="__codelineno-49-23" name="__codelineno-49-23" href="#__codelineno-49-23"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout Repository</span>
</span><span id="__span-49-24"><a id="__codelineno-49-24" name="__codelineno-49-24" href="#__codelineno-49-24"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id="__span-49-25"><a id="__codelineno-49-25" name="__codelineno-49-25" href="#__codelineno-49-25"></a>
</span><span id="__span-49-26"><a id="__codelineno-49-26" name="__codelineno-49-26" href="#__codelineno-49-26"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Configure AWS Credentials</span>
</span><span id="__span-49-27"><a id="__codelineno-49-27" name="__codelineno-49-27" href="#__codelineno-49-27"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">aws-actions/configure-aws-credentials@v2</span>
</span><span id="__span-49-28"><a id="__codelineno-49-28" name="__codelineno-49-28" href="#__codelineno-49-28"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-49-29"><a id="__codelineno-49-29" name="__codelineno-49-29" href="#__codelineno-49-29"></a><span class="w">          </span><span class="nt">role-to-assume</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arn:aws:iam::${{ secrets.AWS_ACCOUNT_ID }}:role/github-actions-role</span>
</span><span id="__span-49-30"><a id="__codelineno-49-30" name="__codelineno-49-30" href="#__codelineno-49-30"></a><span class="w">          </span><span class="nt">aws-region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
</span><span id="__span-49-31"><a id="__codelineno-49-31" name="__codelineno-49-31" href="#__codelineno-49-31"></a>
</span><span id="__span-49-32"><a id="__codelineno-49-32" name="__codelineno-49-32" href="#__codelineno-49-32"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploy to S3</span>
</span><span id="__span-49-33"><a id="__codelineno-49-33" name="__codelineno-49-33" href="#__codelineno-49-33"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-49-34"><a id="__codelineno-49-34" name="__codelineno-49-34" href="#__codelineno-49-34"></a><span class="w">          </span><span class="no">aws s3 sync website/ s3://${{ secrets.S3_BUCKET_NAME }} --delete</span>
</span><span id="__span-49-35"><a id="__codelineno-49-35" name="__codelineno-49-35" href="#__codelineno-49-35"></a>
</span><span id="__span-49-36"><a id="__codelineno-49-36" name="__codelineno-49-36" href="#__codelineno-49-36"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Invalidate CloudFront Cache</span>
</span><span id="__span-49-37"><a id="__codelineno-49-37" name="__codelineno-49-37" href="#__codelineno-49-37"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-49-38"><a id="__codelineno-49-38" name="__codelineno-49-38" href="#__codelineno-49-38"></a><span class="w">          </span><span class="no">aws cloudfront create-invalidation --distribution-id ${{ secrets.CLOUDFRONT_DISTRIBUTION_ID }} --paths &quot;/*&quot;</span>
</span><span id="__span-49-39"><a id="__codelineno-49-39" name="__codelineno-49-39" href="#__codelineno-49-39"></a>
</span><span id="__span-49-40"><a id="__codelineno-49-40" name="__codelineno-49-40" href="#__codelineno-49-40"></a><span class="w">  </span><span class="nt">test</span><span class="p">:</span>
</span><span id="__span-49-41"><a id="__codelineno-49-41" name="__codelineno-49-41" href="#__codelineno-49-41"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Run</span><span class="nv"> </span><span class="s">Smoke</span><span class="nv"> </span><span class="s">Tests&#39;</span>
</span><span id="__span-49-42"><a id="__codelineno-49-42" name="__codelineno-49-42" href="#__codelineno-49-42"></a><span class="w">    </span><span class="nt">needs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">deploy</span>
</span><span id="__span-49-43"><a id="__codelineno-49-43" name="__codelineno-49-43" href="#__codelineno-49-43"></a><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id="__span-49-44"><a id="__codelineno-49-44" name="__codelineno-49-44" href="#__codelineno-49-44"></a>
</span><span id="__span-49-45"><a id="__codelineno-49-45" name="__codelineno-49-45" href="#__codelineno-49-45"></a><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-49-46"><a id="__codelineno-49-46" name="__codelineno-49-46" href="#__codelineno-49-46"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout Repository</span>
</span><span id="__span-49-47"><a id="__codelineno-49-47" name="__codelineno-49-47" href="#__codelineno-49-47"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id="__span-49-48"><a id="__codelineno-49-48" name="__codelineno-49-48" href="#__codelineno-49-48"></a>
</span><span id="__span-49-49"><a id="__codelineno-49-49" name="__codelineno-49-49" href="#__codelineno-49-49"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install Cypress</span>
</span><span id="__span-49-50"><a id="__codelineno-49-50" name="__codelineno-49-50" href="#__codelineno-49-50"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cypress-io/github-action@v5</span>
</span><span id="__span-49-51"><a id="__codelineno-49-51" name="__codelineno-49-51" href="#__codelineno-49-51"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-49-52"><a id="__codelineno-49-52" name="__codelineno-49-52" href="#__codelineno-49-52"></a><span class="w">          </span><span class="nt">install-command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npm install</span>
</span><span id="__span-49-53"><a id="__codelineno-49-53" name="__codelineno-49-53" href="#__codelineno-49-53"></a>
</span><span id="__span-49-54"><a id="__codelineno-49-54" name="__codelineno-49-54" href="#__codelineno-49-54"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run Cypress Tests</span>
</span><span id="__span-49-55"><a id="__codelineno-49-55" name="__codelineno-49-55" href="#__codelineno-49-55"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cypress-io/github-action@v5</span>
</span><span id="__span-49-56"><a id="__codelineno-49-56" name="__codelineno-49-56" href="#__codelineno-49-56"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-49-57"><a id="__codelineno-49-57" name="__codelineno-49-57" href="#__codelineno-49-57"></a><span class="w">          </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npx cypress run</span>
</span><span id="__span-49-58"><a id="__codelineno-49-58" name="__codelineno-49-58" href="#__codelineno-49-58"></a><span class="w">          </span><span class="nt">config</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">baseUrl=${{ secrets.WEBSITE_URL }}</span>
</span></code></pre></div>
<p>This workflow:</p>
<ol>
<li>Authenticates using OIDC</li>
<li>Syncs website files to the S3 bucket</li>
<li>Invalidates the CloudFront cache</li>
<li>Runs Cypress tests to verify the site is working</li>
</ol>
<h4 id="creating-a-cypress-test-for-the-frontend"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#creating-a-cypress-test-for-the-frontend">Creating a Cypress Test for the Frontend</a></h4>
<p>Let's create a simple Cypress test to verify that our visitor counter is working. First, create a <code>package.json</code> file in the root of your frontend repository:</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="p">{</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cloud-resume-frontend&quot;</span><span class="p">,</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Frontend for Cloud Resume Challenge&quot;</span><span class="p">,</span>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="w">  </span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="w">    </span><span class="nt">&quot;test&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cypress open&quot;</span><span class="p">,</span>
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="w">    </span><span class="nt">&quot;test:ci&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cypress run&quot;</span>
</span><span id="__span-50-8"><a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-50-9"><a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a><span class="w">  </span><span class="nt">&quot;devDependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-50-10"><a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a><span class="w">    </span><span class="nt">&quot;cypress&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^12.0.0&quot;</span>
</span><span id="__span-50-11"><a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-50-12"><a id="__codelineno-50-12" name="__codelineno-50-12" href="#__codelineno-50-12"></a><span class="p">}</span>
</span></code></pre></div>
<p>Then create a Cypress test at <code>tests/cypress/integration/counter.spec.js</code>:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="nx">describe</span><span class="p">(</span><span class="s1">&#39;Resume Website Tests&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">  </span><span class="nx">beforeEach</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="w">    </span><span class="c1">// Visit the home page before each test</span>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="w">    </span><span class="nx">cy</span><span class="p">.</span><span class="nx">visit</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span>
</span><span id="__span-51-5"><a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-51-6"><a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a>
</span><span id="__span-51-7"><a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should load the resume page&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-51-8"><a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a><span class="w">    </span><span class="c1">// Check that we have a title</span>
</span><span id="__span-51-9"><a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a><span class="w">    </span><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">).</span><span class="nx">should</span><span class="p">(</span><span class="s1">&#39;be.visible&#39;</span><span class="p">);</span>
</span><span id="__span-51-10"><a id="__codelineno-51-10" name="__codelineno-51-10" href="#__codelineno-51-10"></a>
</span><span id="__span-51-11"><a id="__codelineno-51-11" name="__codelineno-51-11" href="#__codelineno-51-11"></a><span class="w">    </span><span class="c1">// Check that key sections exist</span>
</span><span id="__span-51-12"><a id="__codelineno-51-12" name="__codelineno-51-12" href="#__codelineno-51-12"></a><span class="w">    </span><span class="nx">cy</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="s1">&#39;Experience&#39;</span><span class="p">).</span><span class="nx">should</span><span class="p">(</span><span class="s1">&#39;be.visible&#39;</span><span class="p">);</span>
</span><span id="__span-51-13"><a id="__codelineno-51-13" name="__codelineno-51-13" href="#__codelineno-51-13"></a><span class="w">    </span><span class="nx">cy</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="s1">&#39;Education&#39;</span><span class="p">).</span><span class="nx">should</span><span class="p">(</span><span class="s1">&#39;be.visible&#39;</span><span class="p">);</span>
</span><span id="__span-51-14"><a id="__codelineno-51-14" name="__codelineno-51-14" href="#__codelineno-51-14"></a><span class="w">    </span><span class="nx">cy</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="s1">&#39;Skills&#39;</span><span class="p">).</span><span class="nx">should</span><span class="p">(</span><span class="s1">&#39;be.visible&#39;</span><span class="p">);</span>
</span><span id="__span-51-15"><a id="__codelineno-51-15" name="__codelineno-51-15" href="#__codelineno-51-15"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-51-16"><a id="__codelineno-51-16" name="__codelineno-51-16" href="#__codelineno-51-16"></a>
</span><span id="__span-51-17"><a id="__codelineno-51-17" name="__codelineno-51-17" href="#__codelineno-51-17"></a><span class="w">  </span><span class="nx">it</span><span class="p">(</span><span class="s1">&#39;should load and display the visitor counter&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-51-18"><a id="__codelineno-51-18" name="__codelineno-51-18" href="#__codelineno-51-18"></a><span class="w">    </span><span class="c1">// Check that the counter element exists</span>
</span><span id="__span-51-19"><a id="__codelineno-51-19" name="__codelineno-51-19" href="#__codelineno-51-19"></a><span class="w">    </span><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;#count&#39;</span><span class="p">).</span><span class="nx">should</span><span class="p">(</span><span class="s1">&#39;exist&#39;</span><span class="p">);</span>
</span><span id="__span-51-20"><a id="__codelineno-51-20" name="__codelineno-51-20" href="#__codelineno-51-20"></a>
</span><span id="__span-51-21"><a id="__codelineno-51-21" name="__codelineno-51-21" href="#__codelineno-51-21"></a><span class="w">    </span><span class="c1">// Wait for the counter to update (should not remain at 0)</span>
</span><span id="__span-51-22"><a id="__codelineno-51-22" name="__codelineno-51-22" href="#__codelineno-51-22"></a><span class="w">    </span><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;#count&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">timeout</span><span class="o">:</span><span class="w"> </span><span class="mf">10000</span><span class="w"> </span><span class="p">})</span>
</span><span id="__span-51-23"><a id="__codelineno-51-23" name="__codelineno-51-23" href="#__codelineno-51-23"></a><span class="w">      </span><span class="p">.</span><span class="nx">should</span><span class="p">(</span><span class="s1">&#39;not.contain&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
</span><span id="__span-51-24"><a id="__codelineno-51-24" name="__codelineno-51-24" href="#__codelineno-51-24"></a><span class="w">      </span><span class="p">.</span><span class="nx">should</span><span class="p">(</span><span class="s1">&#39;not.contain&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Loading&#39;</span><span class="p">);</span>
</span><span id="__span-51-25"><a id="__codelineno-51-25" name="__codelineno-51-25" href="#__codelineno-51-25"></a>
</span><span id="__span-51-26"><a id="__codelineno-51-26" name="__codelineno-51-26" href="#__codelineno-51-26"></a><span class="w">    </span><span class="c1">// Verify the counter shows a number</span>
</span><span id="__span-51-27"><a id="__codelineno-51-27" name="__codelineno-51-27" href="#__codelineno-51-27"></a><span class="w">    </span><span class="nx">cy</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;#count&#39;</span><span class="p">).</span><span class="nx">invoke</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nb">parseFloat</span><span class="p">)</span>
</span><span id="__span-51-28"><a id="__codelineno-51-28" name="__codelineno-51-28" href="#__codelineno-51-28"></a><span class="w">      </span><span class="p">.</span><span class="nx">should</span><span class="p">(</span><span class="s1">&#39;be.gt&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">);</span>
</span><span id="__span-51-29"><a id="__codelineno-51-29" name="__codelineno-51-29" href="#__codelineno-51-29"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-51-30"><a id="__codelineno-51-30" name="__codelineno-51-30" href="#__codelineno-51-30"></a><span class="p">});</span>
</span></code></pre></div>
<h3 id="implementing-backend-cicd-workflow"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#implementing-backend-cicd-workflow">Implementing Backend CI/CD Workflow üîÑ</a></h3>
<p>Now, let's create a GitHub Actions workflow for our backend repository. Create a file at <code>.github/workflows/deploy.yml</code>:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploy Backend</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="nt">on</span><span class="p">:</span>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="w">  </span><span class="nt">push</span><span class="p">:</span>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="w">    </span><span class="nt">branches</span><span class="p">:</span>
</span><span id="__span-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">main</span>
</span><span id="__span-52-7"><a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="w">    </span><span class="nt">paths</span><span class="p">:</span>
</span><span id="__span-52-8"><a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;lambda/**&#39;</span>
</span><span id="__span-52-9"><a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;terraform/**&#39;</span>
</span><span id="__span-52-10"><a id="__codelineno-52-10" name="__codelineno-52-10" href="#__codelineno-52-10"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;.github/workflows/deploy.yml&#39;</span>
</span><span id="__span-52-11"><a id="__codelineno-52-11" name="__codelineno-52-11" href="#__codelineno-52-11"></a>
</span><span id="__span-52-12"><a id="__codelineno-52-12" name="__codelineno-52-12" href="#__codelineno-52-12"></a><span class="w">  </span><span class="nt">pull_request</span><span class="p">:</span>
</span><span id="__span-52-13"><a id="__codelineno-52-13" name="__codelineno-52-13" href="#__codelineno-52-13"></a><span class="w">    </span><span class="nt">branches</span><span class="p">:</span>
</span><span id="__span-52-14"><a id="__codelineno-52-14" name="__codelineno-52-14" href="#__codelineno-52-14"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">main</span>
</span><span id="__span-52-15"><a id="__codelineno-52-15" name="__codelineno-52-15" href="#__codelineno-52-15"></a>
</span><span id="__span-52-16"><a id="__codelineno-52-16" name="__codelineno-52-16" href="#__codelineno-52-16"></a><span class="w">  </span><span class="nt">workflow_dispatch</span><span class="p">:</span>
</span><span id="__span-52-17"><a id="__codelineno-52-17" name="__codelineno-52-17" href="#__codelineno-52-17"></a>
</span><span id="__span-52-18"><a id="__codelineno-52-18" name="__codelineno-52-18" href="#__codelineno-52-18"></a><span class="nt">permissions</span><span class="p">:</span>
</span><span id="__span-52-19"><a id="__codelineno-52-19" name="__codelineno-52-19" href="#__codelineno-52-19"></a><span class="w">  </span><span class="nt">id-token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
</span><span id="__span-52-20"><a id="__codelineno-52-20" name="__codelineno-52-20" href="#__codelineno-52-20"></a><span class="w">  </span><span class="nt">contents</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">read</span>
</span><span id="__span-52-21"><a id="__codelineno-52-21" name="__codelineno-52-21" href="#__codelineno-52-21"></a><span class="w">  </span><span class="nt">pull-requests</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
</span><span id="__span-52-22"><a id="__codelineno-52-22" name="__codelineno-52-22" href="#__codelineno-52-22"></a>
</span><span id="__span-52-23"><a id="__codelineno-52-23" name="__codelineno-52-23" href="#__codelineno-52-23"></a><span class="nt">jobs</span><span class="p">:</span>
</span><span id="__span-52-24"><a id="__codelineno-52-24" name="__codelineno-52-24" href="#__codelineno-52-24"></a><span class="w">  </span><span class="nt">test</span><span class="p">:</span>
</span><span id="__span-52-25"><a id="__codelineno-52-25" name="__codelineno-52-25" href="#__codelineno-52-25"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Run</span><span class="nv"> </span><span class="s">Python</span><span class="nv"> </span><span class="s">Tests&#39;</span>
</span><span id="__span-52-26"><a id="__codelineno-52-26" name="__codelineno-52-26" href="#__codelineno-52-26"></a><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id="__span-52-27"><a id="__codelineno-52-27" name="__codelineno-52-27" href="#__codelineno-52-27"></a>
</span><span id="__span-52-28"><a id="__codelineno-52-28" name="__codelineno-52-28" href="#__codelineno-52-28"></a><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-52-29"><a id="__codelineno-52-29" name="__codelineno-52-29" href="#__codelineno-52-29"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout Repository</span>
</span><span id="__span-52-30"><a id="__codelineno-52-30" name="__codelineno-52-30" href="#__codelineno-52-30"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id="__span-52-31"><a id="__codelineno-52-31" name="__codelineno-52-31" href="#__codelineno-52-31"></a>
</span><span id="__span-52-32"><a id="__codelineno-52-32" name="__codelineno-52-32" href="#__codelineno-52-32"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Set up Python</span>
</span><span id="__span-52-33"><a id="__codelineno-52-33" name="__codelineno-52-33" href="#__codelineno-52-33"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v4</span>
</span><span id="__span-52-34"><a id="__codelineno-52-34" name="__codelineno-52-34" href="#__codelineno-52-34"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-52-35"><a id="__codelineno-52-35" name="__codelineno-52-35" href="#__codelineno-52-35"></a><span class="w">          </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;3.9&#39;</span>
</span><span id="__span-52-36"><a id="__codelineno-52-36" name="__codelineno-52-36" href="#__codelineno-52-36"></a>
</span><span id="__span-52-37"><a id="__codelineno-52-37" name="__codelineno-52-37" href="#__codelineno-52-37"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install Dependencies</span>
</span><span id="__span-52-38"><a id="__codelineno-52-38" name="__codelineno-52-38" href="#__codelineno-52-38"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-52-39"><a id="__codelineno-52-39" name="__codelineno-52-39" href="#__codelineno-52-39"></a><span class="w">          </span><span class="no">python -m pip install --upgrade pip</span>
</span><span id="__span-52-40"><a id="__codelineno-52-40" name="__codelineno-52-40" href="#__codelineno-52-40"></a><span class="w">          </span><span class="no">pip install pytest boto3 moto</span>
</span><span id="__span-52-41"><a id="__codelineno-52-41" name="__codelineno-52-41" href="#__codelineno-52-41"></a>
</span><span id="__span-52-42"><a id="__codelineno-52-42" name="__codelineno-52-42" href="#__codelineno-52-42"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run Tests</span>
</span><span id="__span-52-43"><a id="__codelineno-52-43" name="__codelineno-52-43" href="#__codelineno-52-43"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-52-44"><a id="__codelineno-52-44" name="__codelineno-52-44" href="#__codelineno-52-44"></a><span class="w">          </span><span class="no">python -m pytest tests/</span>
</span><span id="__span-52-45"><a id="__codelineno-52-45" name="__codelineno-52-45" href="#__codelineno-52-45"></a>
</span><span id="__span-52-46"><a id="__codelineno-52-46" name="__codelineno-52-46" href="#__codelineno-52-46"></a><span class="w">  </span><span class="nt">validate</span><span class="p">:</span>
</span><span id="__span-52-47"><a id="__codelineno-52-47" name="__codelineno-52-47" href="#__codelineno-52-47"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Validate</span><span class="nv"> </span><span class="s">Terraform&#39;</span>
</span><span id="__span-52-48"><a id="__codelineno-52-48" name="__codelineno-52-48" href="#__codelineno-52-48"></a><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id="__span-52-49"><a id="__codelineno-52-49" name="__codelineno-52-49" href="#__codelineno-52-49"></a><span class="w">    </span><span class="nt">needs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>
</span><span id="__span-52-50"><a id="__codelineno-52-50" name="__codelineno-52-50" href="#__codelineno-52-50"></a>
</span><span id="__span-52-51"><a id="__codelineno-52-51" name="__codelineno-52-51" href="#__codelineno-52-51"></a><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-52-52"><a id="__codelineno-52-52" name="__codelineno-52-52" href="#__codelineno-52-52"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout Repository</span>
</span><span id="__span-52-53"><a id="__codelineno-52-53" name="__codelineno-52-53" href="#__codelineno-52-53"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id="__span-52-54"><a id="__codelineno-52-54" name="__codelineno-52-54" href="#__codelineno-52-54"></a>
</span><span id="__span-52-55"><a id="__codelineno-52-55" name="__codelineno-52-55" href="#__codelineno-52-55"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Setup Terraform</span>
</span><span id="__span-52-56"><a id="__codelineno-52-56" name="__codelineno-52-56" href="#__codelineno-52-56"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hashicorp/setup-terraform@v2</span>
</span><span id="__span-52-57"><a id="__codelineno-52-57" name="__codelineno-52-57" href="#__codelineno-52-57"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-52-58"><a id="__codelineno-52-58" name="__codelineno-52-58" href="#__codelineno-52-58"></a><span class="w">          </span><span class="nt">terraform_version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.2.0</span>
</span><span id="__span-52-59"><a id="__codelineno-52-59" name="__codelineno-52-59" href="#__codelineno-52-59"></a>
</span><span id="__span-52-60"><a id="__codelineno-52-60" name="__codelineno-52-60" href="#__codelineno-52-60"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Terraform Format</span>
</span><span id="__span-52-61"><a id="__codelineno-52-61" name="__codelineno-52-61" href="#__codelineno-52-61"></a><span class="w">        </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform</span>
</span><span id="__span-52-62"><a id="__codelineno-52-62" name="__codelineno-52-62" href="#__codelineno-52-62"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform fmt -check</span>
</span><span id="__span-52-63"><a id="__codelineno-52-63" name="__codelineno-52-63" href="#__codelineno-52-63"></a>
</span><span id="__span-52-64"><a id="__codelineno-52-64" name="__codelineno-52-64" href="#__codelineno-52-64"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Terraform Init</span>
</span><span id="__span-52-65"><a id="__codelineno-52-65" name="__codelineno-52-65" href="#__codelineno-52-65"></a><span class="w">        </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform</span>
</span><span id="__span-52-66"><a id="__codelineno-52-66" name="__codelineno-52-66" href="#__codelineno-52-66"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform init -backend=false</span>
</span><span id="__span-52-67"><a id="__codelineno-52-67" name="__codelineno-52-67" href="#__codelineno-52-67"></a>
</span><span id="__span-52-68"><a id="__codelineno-52-68" name="__codelineno-52-68" href="#__codelineno-52-68"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Terraform Validate</span>
</span><span id="__span-52-69"><a id="__codelineno-52-69" name="__codelineno-52-69" href="#__codelineno-52-69"></a><span class="w">        </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform</span>
</span><span id="__span-52-70"><a id="__codelineno-52-70" name="__codelineno-52-70" href="#__codelineno-52-70"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform validate</span>
</span><span id="__span-52-71"><a id="__codelineno-52-71" name="__codelineno-52-71" href="#__codelineno-52-71"></a>
</span><span id="__span-52-72"><a id="__codelineno-52-72" name="__codelineno-52-72" href="#__codelineno-52-72"></a><span class="w">  </span><span class="nt">plan</span><span class="p">:</span>
</span><span id="__span-52-73"><a id="__codelineno-52-73" name="__codelineno-52-73" href="#__codelineno-52-73"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Terraform</span><span class="nv"> </span><span class="s">Plan&#39;</span>
</span><span id="__span-52-74"><a id="__codelineno-52-74" name="__codelineno-52-74" href="#__codelineno-52-74"></a><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id="__span-52-75"><a id="__codelineno-52-75" name="__codelineno-52-75" href="#__codelineno-52-75"></a><span class="w">    </span><span class="nt">needs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">validate</span>
</span><span id="__span-52-76"><a id="__codelineno-52-76" name="__codelineno-52-76" href="#__codelineno-52-76"></a><span class="w">    </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github.event_name == &#39;pull_request&#39; || github.event_name == &#39;push&#39; || github.event_name == &#39;workflow_dispatch&#39;</span>
</span><span id="__span-52-77"><a id="__codelineno-52-77" name="__codelineno-52-77" href="#__codelineno-52-77"></a><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev</span>
</span><span id="__span-52-78"><a id="__codelineno-52-78" name="__codelineno-52-78" href="#__codelineno-52-78"></a>
</span><span id="__span-52-79"><a id="__codelineno-52-79" name="__codelineno-52-79" href="#__codelineno-52-79"></a><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-52-80"><a id="__codelineno-52-80" name="__codelineno-52-80" href="#__codelineno-52-80"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout Repository</span>
</span><span id="__span-52-81"><a id="__codelineno-52-81" name="__codelineno-52-81" href="#__codelineno-52-81"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id="__span-52-82"><a id="__codelineno-52-82" name="__codelineno-52-82" href="#__codelineno-52-82"></a>
</span><span id="__span-52-83"><a id="__codelineno-52-83" name="__codelineno-52-83" href="#__codelineno-52-83"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Configure AWS Credentials</span>
</span><span id="__span-52-84"><a id="__codelineno-52-84" name="__codelineno-52-84" href="#__codelineno-52-84"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">aws-actions/configure-aws-credentials@v2</span>
</span><span id="__span-52-85"><a id="__codelineno-52-85" name="__codelineno-52-85" href="#__codelineno-52-85"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-52-86"><a id="__codelineno-52-86" name="__codelineno-52-86" href="#__codelineno-52-86"></a><span class="w">          </span><span class="nt">role-to-assume</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arn:aws:iam::${{ secrets.AWS_ACCOUNT_ID }}:role/github-actions-role</span>
</span><span id="__span-52-87"><a id="__codelineno-52-87" name="__codelineno-52-87" href="#__codelineno-52-87"></a><span class="w">          </span><span class="nt">aws-region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
</span><span id="__span-52-88"><a id="__codelineno-52-88" name="__codelineno-52-88" href="#__codelineno-52-88"></a>
</span><span id="__span-52-89"><a id="__codelineno-52-89" name="__codelineno-52-89" href="#__codelineno-52-89"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Setup Terraform</span>
</span><span id="__span-52-90"><a id="__codelineno-52-90" name="__codelineno-52-90" href="#__codelineno-52-90"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hashicorp/setup-terraform@v2</span>
</span><span id="__span-52-91"><a id="__codelineno-52-91" name="__codelineno-52-91" href="#__codelineno-52-91"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-52-92"><a id="__codelineno-52-92" name="__codelineno-52-92" href="#__codelineno-52-92"></a><span class="w">          </span><span class="nt">terraform_version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.2.0</span>
</span><span id="__span-52-93"><a id="__codelineno-52-93" name="__codelineno-52-93" href="#__codelineno-52-93"></a>
</span><span id="__span-52-94"><a id="__codelineno-52-94" name="__codelineno-52-94" href="#__codelineno-52-94"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Terraform Init</span>
</span><span id="__span-52-95"><a id="__codelineno-52-95" name="__codelineno-52-95" href="#__codelineno-52-95"></a><span class="w">        </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform</span>
</span><span id="__span-52-96"><a id="__codelineno-52-96" name="__codelineno-52-96" href="#__codelineno-52-96"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform init -backend-config=&quot;bucket=${{ secrets.TF_STATE_BUCKET }}&quot; -backend-config=&quot;key=${{ secrets.TF_STATE_KEY }}&quot; -backend-config=&quot;region=us-east-1&quot;</span>
</span><span id="__span-52-97"><a id="__codelineno-52-97" name="__codelineno-52-97" href="#__codelineno-52-97"></a>
</span><span id="__span-52-98"><a id="__codelineno-52-98" name="__codelineno-52-98" href="#__codelineno-52-98"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Terraform Plan</span>
</span><span id="__span-52-99"><a id="__codelineno-52-99" name="__codelineno-52-99" href="#__codelineno-52-99"></a><span class="w">        </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform</span>
</span><span id="__span-52-100"><a id="__codelineno-52-100" name="__codelineno-52-100" href="#__codelineno-52-100"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform plan -var=&quot;environment=dev&quot; -var=&quot;domain_name=${{ secrets.DOMAIN_NAME }}&quot; -out=tfplan</span>
</span><span id="__span-52-101"><a id="__codelineno-52-101" name="__codelineno-52-101" href="#__codelineno-52-101"></a>
</span><span id="__span-52-102"><a id="__codelineno-52-102" name="__codelineno-52-102" href="#__codelineno-52-102"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Comment Plan on PR</span>
</span><span id="__span-52-103"><a id="__codelineno-52-103" name="__codelineno-52-103" href="#__codelineno-52-103"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/github-script@v6</span>
</span><span id="__span-52-104"><a id="__codelineno-52-104" name="__codelineno-52-104" href="#__codelineno-52-104"></a><span class="w">        </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github.event_name == &#39;pull_request&#39;</span>
</span><span id="__span-52-105"><a id="__codelineno-52-105" name="__codelineno-52-105" href="#__codelineno-52-105"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-52-106"><a id="__codelineno-52-106" name="__codelineno-52-106" href="#__codelineno-52-106"></a><span class="w">          </span><span class="nt">github-token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.GITHUB_TOKEN }}</span>
</span><span id="__span-52-107"><a id="__codelineno-52-107" name="__codelineno-52-107" href="#__codelineno-52-107"></a><span class="w">          </span><span class="nt">script</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-52-108"><a id="__codelineno-52-108" name="__codelineno-52-108" href="#__codelineno-52-108"></a><span class="w">            </span><span class="no">const output = `#### Terraform Format and Style üñå\`${{ steps.fmt.outcome }}\`</span>
</span><span id="__span-52-109"><a id="__codelineno-52-109" name="__codelineno-52-109" href="#__codelineno-52-109"></a><span class="w">            </span><span class="no">#### Terraform Plan üìñ\`${{ steps.plan.outcome }}\`</span>
</span><span id="__span-52-110"><a id="__codelineno-52-110" name="__codelineno-52-110" href="#__codelineno-52-110"></a>
</span><span id="__span-52-111"><a id="__codelineno-52-111" name="__codelineno-52-111" href="#__codelineno-52-111"></a><span class="w">            </span><span class="no">&lt;details&gt;&lt;summary&gt;Show Plan&lt;/summary&gt;</span>
</span><span id="__span-52-112"><a id="__codelineno-52-112" name="__codelineno-52-112" href="#__codelineno-52-112"></a>
</span><span id="__span-52-113"><a id="__codelineno-52-113" name="__codelineno-52-113" href="#__codelineno-52-113"></a><span class="w">            </span><span class="no">\`\`\`terraform</span>
</span><span id="__span-52-114"><a id="__codelineno-52-114" name="__codelineno-52-114" href="#__codelineno-52-114"></a><span class="w">            </span><span class="no">${{ steps.plan.outputs.stdout }}</span>
</span><span id="__span-52-115"><a id="__codelineno-52-115" name="__codelineno-52-115" href="#__codelineno-52-115"></a><span class="w">            </span><span class="no">\`\`\`</span>
</span><span id="__span-52-116"><a id="__codelineno-52-116" name="__codelineno-52-116" href="#__codelineno-52-116"></a>
</span><span id="__span-52-117"><a id="__codelineno-52-117" name="__codelineno-52-117" href="#__codelineno-52-117"></a><span class="w">            </span><span class="no">&lt;/details&gt;`;</span>
</span><span id="__span-52-118"><a id="__codelineno-52-118" name="__codelineno-52-118" href="#__codelineno-52-118"></a><span class="w">            </span><span class="no">github.rest.issues.createComment({</span>
</span><span id="__span-52-119"><a id="__codelineno-52-119" name="__codelineno-52-119" href="#__codelineno-52-119"></a><span class="w">              </span><span class="no">issue_number: context.issue.number,</span>
</span><span id="__span-52-120"><a id="__codelineno-52-120" name="__codelineno-52-120" href="#__codelineno-52-120"></a><span class="w">              </span><span class="no">owner: context.repo.owner,</span>
</span><span id="__span-52-121"><a id="__codelineno-52-121" name="__codelineno-52-121" href="#__codelineno-52-121"></a><span class="w">              </span><span class="no">repo: context.repo.repo,</span>
</span><span id="__span-52-122"><a id="__codelineno-52-122" name="__codelineno-52-122" href="#__codelineno-52-122"></a><span class="w">              </span><span class="no">body: output</span>
</span><span id="__span-52-123"><a id="__codelineno-52-123" name="__codelineno-52-123" href="#__codelineno-52-123"></a><span class="w">            </span><span class="no">})</span>
</span><span id="__span-52-124"><a id="__codelineno-52-124" name="__codelineno-52-124" href="#__codelineno-52-124"></a>
</span><span id="__span-52-125"><a id="__codelineno-52-125" name="__codelineno-52-125" href="#__codelineno-52-125"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Upload Plan Artifact</span>
</span><span id="__span-52-126"><a id="__codelineno-52-126" name="__codelineno-52-126" href="#__codelineno-52-126"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/upload-artifact@v3</span>
</span><span id="__span-52-127"><a id="__codelineno-52-127" name="__codelineno-52-127" href="#__codelineno-52-127"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-52-128"><a id="__codelineno-52-128" name="__codelineno-52-128" href="#__codelineno-52-128"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tfplan</span>
</span><span id="__span-52-129"><a id="__codelineno-52-129" name="__codelineno-52-129" href="#__codelineno-52-129"></a><span class="w">          </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform/tfplan</span>
</span><span id="__span-52-130"><a id="__codelineno-52-130" name="__codelineno-52-130" href="#__codelineno-52-130"></a>
</span><span id="__span-52-131"><a id="__codelineno-52-131" name="__codelineno-52-131" href="#__codelineno-52-131"></a><span class="w">  </span><span class="nt">apply</span><span class="p">:</span>
</span><span id="__span-52-132"><a id="__codelineno-52-132" name="__codelineno-52-132" href="#__codelineno-52-132"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Terraform</span><span class="nv"> </span><span class="s">Apply&#39;</span>
</span><span id="__span-52-133"><a id="__codelineno-52-133" name="__codelineno-52-133" href="#__codelineno-52-133"></a><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id="__span-52-134"><a id="__codelineno-52-134" name="__codelineno-52-134" href="#__codelineno-52-134"></a><span class="w">    </span><span class="nt">needs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">plan</span>
</span><span id="__span-52-135"><a id="__codelineno-52-135" name="__codelineno-52-135" href="#__codelineno-52-135"></a><span class="w">    </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github.event_name == &#39;push&#39; &amp;&amp; github.ref == &#39;refs/heads/main&#39; || github.event_name == &#39;workflow_dispatch&#39;</span>
</span><span id="__span-52-136"><a id="__codelineno-52-136" name="__codelineno-52-136" href="#__codelineno-52-136"></a><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev</span>
</span><span id="__span-52-137"><a id="__codelineno-52-137" name="__codelineno-52-137" href="#__codelineno-52-137"></a>
</span><span id="__span-52-138"><a id="__codelineno-52-138" name="__codelineno-52-138" href="#__codelineno-52-138"></a><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-52-139"><a id="__codelineno-52-139" name="__codelineno-52-139" href="#__codelineno-52-139"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout Repository</span>
</span><span id="__span-52-140"><a id="__codelineno-52-140" name="__codelineno-52-140" href="#__codelineno-52-140"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id="__span-52-141"><a id="__codelineno-52-141" name="__codelineno-52-141" href="#__codelineno-52-141"></a>
</span><span id="__span-52-142"><a id="__codelineno-52-142" name="__codelineno-52-142" href="#__codelineno-52-142"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Configure AWS Credentials</span>
</span><span id="__span-52-143"><a id="__codelineno-52-143" name="__codelineno-52-143" href="#__codelineno-52-143"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">aws-actions/configure-aws-credentials@v2</span>
</span><span id="__span-52-144"><a id="__codelineno-52-144" name="__codelineno-52-144" href="#__codelineno-52-144"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-52-145"><a id="__codelineno-52-145" name="__codelineno-52-145" href="#__codelineno-52-145"></a><span class="w">          </span><span class="nt">role-to-assume</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arn:aws:iam::${{ secrets.AWS_ACCOUNT_ID }}:role/github-actions-role</span>
</span><span id="__span-52-146"><a id="__codelineno-52-146" name="__codelineno-52-146" href="#__codelineno-52-146"></a><span class="w">          </span><span class="nt">aws-region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
</span><span id="__span-52-147"><a id="__codelineno-52-147" name="__codelineno-52-147" href="#__codelineno-52-147"></a>
</span><span id="__span-52-148"><a id="__codelineno-52-148" name="__codelineno-52-148" href="#__codelineno-52-148"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Setup Terraform</span>
</span><span id="__span-52-149"><a id="__codelineno-52-149" name="__codelineno-52-149" href="#__codelineno-52-149"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hashicorp/setup-terraform@v2</span>
</span><span id="__span-52-150"><a id="__codelineno-52-150" name="__codelineno-52-150" href="#__codelineno-52-150"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-52-151"><a id="__codelineno-52-151" name="__codelineno-52-151" href="#__codelineno-52-151"></a><span class="w">          </span><span class="nt">terraform_version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.2.0</span>
</span><span id="__span-52-152"><a id="__codelineno-52-152" name="__codelineno-52-152" href="#__codelineno-52-152"></a>
</span><span id="__span-52-153"><a id="__codelineno-52-153" name="__codelineno-52-153" href="#__codelineno-52-153"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Terraform Init</span>
</span><span id="__span-52-154"><a id="__codelineno-52-154" name="__codelineno-52-154" href="#__codelineno-52-154"></a><span class="w">        </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform</span>
</span><span id="__span-52-155"><a id="__codelineno-52-155" name="__codelineno-52-155" href="#__codelineno-52-155"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform init -backend-config=&quot;bucket=${{ secrets.TF_STATE_BUCKET }}&quot; -backend-config=&quot;key=${{ secrets.TF_STATE_KEY }}&quot; -backend-config=&quot;region=us-east-1&quot;</span>
</span><span id="__span-52-156"><a id="__codelineno-52-156" name="__codelineno-52-156" href="#__codelineno-52-156"></a>
</span><span id="__span-52-157"><a id="__codelineno-52-157" name="__codelineno-52-157" href="#__codelineno-52-157"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Download Plan Artifact</span>
</span><span id="__span-52-158"><a id="__codelineno-52-158" name="__codelineno-52-158" href="#__codelineno-52-158"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/download-artifact@v3</span>
</span><span id="__span-52-159"><a id="__codelineno-52-159" name="__codelineno-52-159" href="#__codelineno-52-159"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-52-160"><a id="__codelineno-52-160" name="__codelineno-52-160" href="#__codelineno-52-160"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tfplan</span>
</span><span id="__span-52-161"><a id="__codelineno-52-161" name="__codelineno-52-161" href="#__codelineno-52-161"></a><span class="w">          </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform</span>
</span><span id="__span-52-162"><a id="__codelineno-52-162" name="__codelineno-52-162" href="#__codelineno-52-162"></a>
</span><span id="__span-52-163"><a id="__codelineno-52-163" name="__codelineno-52-163" href="#__codelineno-52-163"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Terraform Apply</span>
</span><span id="__span-52-164"><a id="__codelineno-52-164" name="__codelineno-52-164" href="#__codelineno-52-164"></a><span class="w">        </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform</span>
</span><span id="__span-52-165"><a id="__codelineno-52-165" name="__codelineno-52-165" href="#__codelineno-52-165"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform apply -auto-approve tfplan</span>
</span><span id="__span-52-166"><a id="__codelineno-52-166" name="__codelineno-52-166" href="#__codelineno-52-166"></a>
</span><span id="__span-52-167"><a id="__codelineno-52-167" name="__codelineno-52-167" href="#__codelineno-52-167"></a><span class="w">  </span><span class="nt">test-api</span><span class="p">:</span>
</span><span id="__span-52-168"><a id="__codelineno-52-168" name="__codelineno-52-168" href="#__codelineno-52-168"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Test</span><span class="nv"> </span><span class="s">API</span><span class="nv"> </span><span class="s">Deployment&#39;</span>
</span><span id="__span-52-169"><a id="__codelineno-52-169" name="__codelineno-52-169" href="#__codelineno-52-169"></a><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id="__span-52-170"><a id="__codelineno-52-170" name="__codelineno-52-170" href="#__codelineno-52-170"></a><span class="w">    </span><span class="nt">needs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apply</span>
</span><span id="__span-52-171"><a id="__codelineno-52-171" name="__codelineno-52-171" href="#__codelineno-52-171"></a><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev</span>
</span><span id="__span-52-172"><a id="__codelineno-52-172" name="__codelineno-52-172" href="#__codelineno-52-172"></a>
</span><span id="__span-52-173"><a id="__codelineno-52-173" name="__codelineno-52-173" href="#__codelineno-52-173"></a><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-52-174"><a id="__codelineno-52-174" name="__codelineno-52-174" href="#__codelineno-52-174"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout Repository</span>
</span><span id="__span-52-175"><a id="__codelineno-52-175" name="__codelineno-52-175" href="#__codelineno-52-175"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id="__span-52-176"><a id="__codelineno-52-176" name="__codelineno-52-176" href="#__codelineno-52-176"></a>
</span><span id="__span-52-177"><a id="__codelineno-52-177" name="__codelineno-52-177" href="#__codelineno-52-177"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Configure AWS Credentials</span>
</span><span id="__span-52-178"><a id="__codelineno-52-178" name="__codelineno-52-178" href="#__codelineno-52-178"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">aws-actions/configure-aws-credentials@v2</span>
</span><span id="__span-52-179"><a id="__codelineno-52-179" name="__codelineno-52-179" href="#__codelineno-52-179"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-52-180"><a id="__codelineno-52-180" name="__codelineno-52-180" href="#__codelineno-52-180"></a><span class="w">          </span><span class="nt">role-to-assume</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arn:aws:iam::${{ secrets.AWS_ACCOUNT_ID }}:role/github-actions-role</span>
</span><span id="__span-52-181"><a id="__codelineno-52-181" name="__codelineno-52-181" href="#__codelineno-52-181"></a><span class="w">          </span><span class="nt">aws-region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
</span><span id="__span-52-182"><a id="__codelineno-52-182" name="__codelineno-52-182" href="#__codelineno-52-182"></a>
</span><span id="__span-52-183"><a id="__codelineno-52-183" name="__codelineno-52-183" href="#__codelineno-52-183"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Fetch API Endpoint</span>
</span><span id="__span-52-184"><a id="__codelineno-52-184" name="__codelineno-52-184" href="#__codelineno-52-184"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-52-185"><a id="__codelineno-52-185" name="__codelineno-52-185" href="#__codelineno-52-185"></a><span class="w">          </span><span class="no">API_ENDPOINT=$(aws cloudformation describe-stacks --stack-name resume-backend-dev --query &quot;Stacks[0].Outputs[?OutputKey==&#39;ApiEndpoint&#39;].OutputValue&quot; --output text)</span>
</span><span id="__span-52-186"><a id="__codelineno-52-186" name="__codelineno-52-186" href="#__codelineno-52-186"></a><span class="w">          </span><span class="no">echo &quot;API_ENDPOINT=$API_ENDPOINT&quot; &gt;&gt; $GITHUB_ENV</span>
</span><span id="__span-52-187"><a id="__codelineno-52-187" name="__codelineno-52-187" href="#__codelineno-52-187"></a>
</span><span id="__span-52-188"><a id="__codelineno-52-188" name="__codelineno-52-188" href="#__codelineno-52-188"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Test API Response</span>
</span><span id="__span-52-189"><a id="__codelineno-52-189" name="__codelineno-52-189" href="#__codelineno-52-189"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-52-190"><a id="__codelineno-52-190" name="__codelineno-52-190" href="#__codelineno-52-190"></a><span class="w">          </span><span class="no">response=$(curl -s &quot;$API_ENDPOINT/count&quot;)</span>
</span><span id="__span-52-191"><a id="__codelineno-52-191" name="__codelineno-52-191" href="#__codelineno-52-191"></a><span class="w">          </span><span class="no">echo &quot;API Response: $response&quot;</span>
</span><span id="__span-52-192"><a id="__codelineno-52-192" name="__codelineno-52-192" href="#__codelineno-52-192"></a>
</span><span id="__span-52-193"><a id="__codelineno-52-193" name="__codelineno-52-193" href="#__codelineno-52-193"></a><span class="w">          </span><span class="no"># Check if the response contains a count field</span>
</span><span id="__span-52-194"><a id="__codelineno-52-194" name="__codelineno-52-194" href="#__codelineno-52-194"></a><span class="w">          </span><span class="no">echo $response | grep -q &#39;&quot;count&quot;:&#39;</span>
</span><span id="__span-52-195"><a id="__codelineno-52-195" name="__codelineno-52-195" href="#__codelineno-52-195"></a><span class="w">          </span><span class="no">if [ $? -eq 0 ]; then</span>
</span><span id="__span-52-196"><a id="__codelineno-52-196" name="__codelineno-52-196" href="#__codelineno-52-196"></a><span class="w">            </span><span class="no">echo &quot;API test successful&quot;</span>
</span><span id="__span-52-197"><a id="__codelineno-52-197" name="__codelineno-52-197" href="#__codelineno-52-197"></a><span class="w">          </span><span class="no">else</span>
</span><span id="__span-52-198"><a id="__codelineno-52-198" name="__codelineno-52-198" href="#__codelineno-52-198"></a><span class="w">            </span><span class="no">echo &quot;API test failed&quot;</span>
</span><span id="__span-52-199"><a id="__codelineno-52-199" name="__codelineno-52-199" href="#__codelineno-52-199"></a><span class="w">            </span><span class="no">exit 1</span>
</span><span id="__span-52-200"><a id="__codelineno-52-200" name="__codelineno-52-200" href="#__codelineno-52-200"></a><span class="w">          </span><span class="no">fi</span>
</span></code></pre></div>
<p>This workflow is more complex and includes:</p>
<ol>
<li>Running Python tests for the Lambda function</li>
<li>Validating Terraform syntax and formatting</li>
<li>Planning Terraform changes (with PR comments for review)</li>
<li>Applying Terraform changes to the environment</li>
<li>Testing the deployed API to ensure it's functioning</li>
</ol>
<h3 id="implementing-multi-environment-deployments"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#implementing-multi-environment-deployments">Implementing Multi-Environment Deployments üåç</a></h3>
<p>One of the most valuable CI/CD patterns is deploying to multiple environments. Let's modify our backend workflow to support both development and production environments:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="c1"># Additional job for production deployment after dev is successful</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="w">  </span><span class="nt">promote-to-prod</span><span class="p">:</span>
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Promote</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">Production&#39;</span>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="w">    </span><span class="nt">needs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test-api</span>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">production</span>
</span><span id="__span-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="w">    </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github.event_name == &#39;workflow_dispatch&#39;</span>
</span><span id="__span-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a>
</span><span id="__span-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout Repository</span>
</span><span id="__span-53-11"><a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id="__span-53-12"><a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a>
</span><span id="__span-53-13"><a id="__codelineno-53-13" name="__codelineno-53-13" href="#__codelineno-53-13"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Configure AWS Credentials</span>
</span><span id="__span-53-14"><a id="__codelineno-53-14" name="__codelineno-53-14" href="#__codelineno-53-14"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">aws-actions/configure-aws-credentials@v2</span>
</span><span id="__span-53-15"><a id="__codelineno-53-15" name="__codelineno-53-15" href="#__codelineno-53-15"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-53-16"><a id="__codelineno-53-16" name="__codelineno-53-16" href="#__codelineno-53-16"></a><span class="w">          </span><span class="nt">role-to-assume</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arn:aws:iam::${{ secrets.AWS_ACCOUNT_ID }}:role/github-actions-role</span>
</span><span id="__span-53-17"><a id="__codelineno-53-17" name="__codelineno-53-17" href="#__codelineno-53-17"></a><span class="w">          </span><span class="nt">aws-region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
</span><span id="__span-53-18"><a id="__codelineno-53-18" name="__codelineno-53-18" href="#__codelineno-53-18"></a>
</span><span id="__span-53-19"><a id="__codelineno-53-19" name="__codelineno-53-19" href="#__codelineno-53-19"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Setup Terraform</span>
</span><span id="__span-53-20"><a id="__codelineno-53-20" name="__codelineno-53-20" href="#__codelineno-53-20"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hashicorp/setup-terraform@v2</span>
</span><span id="__span-53-21"><a id="__codelineno-53-21" name="__codelineno-53-21" href="#__codelineno-53-21"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-53-22"><a id="__codelineno-53-22" name="__codelineno-53-22" href="#__codelineno-53-22"></a><span class="w">          </span><span class="nt">terraform_version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.2.0</span>
</span><span id="__span-53-23"><a id="__codelineno-53-23" name="__codelineno-53-23" href="#__codelineno-53-23"></a>
</span><span id="__span-53-24"><a id="__codelineno-53-24" name="__codelineno-53-24" href="#__codelineno-53-24"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Terraform Init</span>
</span><span id="__span-53-25"><a id="__codelineno-53-25" name="__codelineno-53-25" href="#__codelineno-53-25"></a><span class="w">        </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform/environments/prod</span>
</span><span id="__span-53-26"><a id="__codelineno-53-26" name="__codelineno-53-26" href="#__codelineno-53-26"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform init -backend-config=&quot;bucket=${{ secrets.TF_STATE_BUCKET }}&quot; -backend-config=&quot;key=${{ secrets.TF_STATE_KEY_PROD }}&quot; -backend-config=&quot;region=us-east-1&quot;</span>
</span><span id="__span-53-27"><a id="__codelineno-53-27" name="__codelineno-53-27" href="#__codelineno-53-27"></a>
</span><span id="__span-53-28"><a id="__codelineno-53-28" name="__codelineno-53-28" href="#__codelineno-53-28"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Terraform Plan</span>
</span><span id="__span-53-29"><a id="__codelineno-53-29" name="__codelineno-53-29" href="#__codelineno-53-29"></a><span class="w">        </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform/environments/prod</span>
</span><span id="__span-53-30"><a id="__codelineno-53-30" name="__codelineno-53-30" href="#__codelineno-53-30"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform plan -var=&quot;environment=prod&quot; -var=&quot;domain_name=${{ secrets.DOMAIN_NAME_PROD }}&quot; -out=tfplan</span>
</span><span id="__span-53-31"><a id="__codelineno-53-31" name="__codelineno-53-31" href="#__codelineno-53-31"></a>
</span><span id="__span-53-32"><a id="__codelineno-53-32" name="__codelineno-53-32" href="#__codelineno-53-32"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Terraform Apply</span>
</span><span id="__span-53-33"><a id="__codelineno-53-33" name="__codelineno-53-33" href="#__codelineno-53-33"></a><span class="w">        </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform/environments/prod</span>
</span><span id="__span-53-34"><a id="__codelineno-53-34" name="__codelineno-53-34" href="#__codelineno-53-34"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform apply -auto-approve tfplan</span>
</span><span id="__span-53-35"><a id="__codelineno-53-35" name="__codelineno-53-35" href="#__codelineno-53-35"></a>
</span><span id="__span-53-36"><a id="__codelineno-53-36" name="__codelineno-53-36" href="#__codelineno-53-36"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Test Production API</span>
</span><span id="__span-53-37"><a id="__codelineno-53-37" name="__codelineno-53-37" href="#__codelineno-53-37"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-53-38"><a id="__codelineno-53-38" name="__codelineno-53-38" href="#__codelineno-53-38"></a><span class="w">          </span><span class="no">API_ENDPOINT=$(aws cloudformation describe-stacks --stack-name resume-backend-prod --query &quot;Stacks[0].Outputs[?OutputKey==&#39;ApiEndpoint&#39;].OutputValue&quot; --output text)</span>
</span><span id="__span-53-39"><a id="__codelineno-53-39" name="__codelineno-53-39" href="#__codelineno-53-39"></a><span class="w">          </span><span class="no">response=$(curl -s &quot;$API_ENDPOINT/count&quot;)</span>
</span><span id="__span-53-40"><a id="__codelineno-53-40" name="__codelineno-53-40" href="#__codelineno-53-40"></a><span class="w">          </span><span class="no">echo &quot;API Response: $response&quot;</span>
</span><span id="__span-53-41"><a id="__codelineno-53-41" name="__codelineno-53-41" href="#__codelineno-53-41"></a>
</span><span id="__span-53-42"><a id="__codelineno-53-42" name="__codelineno-53-42" href="#__codelineno-53-42"></a><span class="w">          </span><span class="no"># Check if the response contains a count field</span>
</span><span id="__span-53-43"><a id="__codelineno-53-43" name="__codelineno-53-43" href="#__codelineno-53-43"></a><span class="w">          </span><span class="no">echo $response | grep -q &#39;&quot;count&quot;:&#39;</span>
</span><span id="__span-53-44"><a id="__codelineno-53-44" name="__codelineno-53-44" href="#__codelineno-53-44"></a><span class="w">          </span><span class="no">if [ $? -eq 0 ]; then</span>
</span><span id="__span-53-45"><a id="__codelineno-53-45" name="__codelineno-53-45" href="#__codelineno-53-45"></a><span class="w">            </span><span class="no">echo &quot;Production API test successful&quot;</span>
</span><span id="__span-53-46"><a id="__codelineno-53-46" name="__codelineno-53-46" href="#__codelineno-53-46"></a><span class="w">          </span><span class="no">else</span>
</span><span id="__span-53-47"><a id="__codelineno-53-47" name="__codelineno-53-47" href="#__codelineno-53-47"></a><span class="w">            </span><span class="no">echo &quot;Production API test failed&quot;</span>
</span><span id="__span-53-48"><a id="__codelineno-53-48" name="__codelineno-53-48" href="#__codelineno-53-48"></a><span class="w">            </span><span class="no">exit 1</span>
</span><span id="__span-53-49"><a id="__codelineno-53-49" name="__codelineno-53-49" href="#__codelineno-53-49"></a><span class="w">          </span><span class="no">fi</span>
</span></code></pre></div>
<h4 id="terraform-structure-for-multiple-environments"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#terraform-structure-for-multiple-environments">Terraform Structure for Multiple Environments</a></h4>
<p>To support multiple environments, I've reorganized my Terraform configuration:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a>terraform/
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>‚îú‚îÄ‚îÄ modules/
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a>‚îÇ   ‚îú‚îÄ‚îÄ backend/
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api_gateway.tf
</span><span id="__span-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dynamodb.tf
</span><span id="__span-54-6"><a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lambda.tf
</span><span id="__span-54-7"><a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
</span><span id="__span-54-8"><a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a>‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
</span><span id="__span-54-9"><a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a>‚îú‚îÄ‚îÄ environments/
</span><span id="__span-54-10"><a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a>‚îÇ   ‚îú‚îÄ‚îÄ dev/
</span><span id="__span-54-11"><a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.tf
</span><span id="__span-54-12"><a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
</span><span id="__span-54-13"><a id="__codelineno-54-13" name="__codelineno-54-13" href="#__codelineno-54-13"></a>‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
</span><span id="__span-54-14"><a id="__codelineno-54-14" name="__codelineno-54-14" href="#__codelineno-54-14"></a>‚îÇ   ‚îî‚îÄ‚îÄ prod/
</span><span id="__span-54-15"><a id="__codelineno-54-15" name="__codelineno-54-15" href="#__codelineno-54-15"></a>‚îÇ       ‚îú‚îÄ‚îÄ main.tf
</span><span id="__span-54-16"><a id="__codelineno-54-16" name="__codelineno-54-16" href="#__codelineno-54-16"></a>‚îÇ       ‚îú‚îÄ‚îÄ variables.tf
</span><span id="__span-54-17"><a id="__codelineno-54-17" name="__codelineno-54-17" href="#__codelineno-54-17"></a>‚îÇ       ‚îî‚îÄ‚îÄ outputs.tf
</span></code></pre></div>
<p>Each environment directory contains its own Terraform configuration that references the shared modules.</p>
<h3 id="implementing-github-security-best-practices"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#implementing-github-security-best-practices">Implementing GitHub Security Best Practices üîí</a></h3>
<p>To enhance the security of our CI/CD pipelines, I've implemented several additional measures:</p>
<h4 id="1-supply-chain-security-with-dependabot"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#1-supply-chain-security-with-dependabot">1. Supply Chain Security with Dependabot</a></h4>
<p>Create a file at <code>.github/dependabot.yml</code> in both repositories:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="nt">updates</span><span class="p">:</span>
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">package-ecosystem</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;github-actions&quot;</span>
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">    </span><span class="nt">directory</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/&quot;</span>
</span><span id="__span-55-5"><a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="w">    </span><span class="nt">schedule</span><span class="p">:</span>
</span><span id="__span-55-6"><a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="w">      </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;weekly&quot;</span>
</span><span id="__span-55-7"><a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a><span class="w">    </span><span class="nt">open-pull-requests-limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span><span id="__span-55-8"><a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a>
</span><span id="__span-55-9"><a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a><span class="w">  </span><span class="c1"># For frontend</span>
</span><span id="__span-55-10"><a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">package-ecosystem</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;npm&quot;</span>
</span><span id="__span-55-11"><a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a><span class="w">    </span><span class="nt">directory</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/&quot;</span>
</span><span id="__span-55-12"><a id="__codelineno-55-12" name="__codelineno-55-12" href="#__codelineno-55-12"></a><span class="w">    </span><span class="nt">schedule</span><span class="p">:</span>
</span><span id="__span-55-13"><a id="__codelineno-55-13" name="__codelineno-55-13" href="#__codelineno-55-13"></a><span class="w">      </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;weekly&quot;</span>
</span><span id="__span-55-14"><a id="__codelineno-55-14" name="__codelineno-55-14" href="#__codelineno-55-14"></a><span class="w">    </span><span class="nt">open-pull-requests-limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span><span id="__span-55-15"><a id="__codelineno-55-15" name="__codelineno-55-15" href="#__codelineno-55-15"></a>
</span><span id="__span-55-16"><a id="__codelineno-55-16" name="__codelineno-55-16" href="#__codelineno-55-16"></a><span class="w">  </span><span class="c1"># For backend</span>
</span><span id="__span-55-17"><a id="__codelineno-55-17" name="__codelineno-55-17" href="#__codelineno-55-17"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">package-ecosystem</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;pip&quot;</span>
</span><span id="__span-55-18"><a id="__codelineno-55-18" name="__codelineno-55-18" href="#__codelineno-55-18"></a><span class="w">    </span><span class="nt">directory</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/&quot;</span>
</span><span id="__span-55-19"><a id="__codelineno-55-19" name="__codelineno-55-19" href="#__codelineno-55-19"></a><span class="w">    </span><span class="nt">schedule</span><span class="p">:</span>
</span><span id="__span-55-20"><a id="__codelineno-55-20" name="__codelineno-55-20" href="#__codelineno-55-20"></a><span class="w">      </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;weekly&quot;</span>
</span><span id="__span-55-21"><a id="__codelineno-55-21" name="__codelineno-55-21" href="#__codelineno-55-21"></a><span class="w">    </span><span class="nt">open-pull-requests-limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span></code></pre></div>
<p>This configuration automatically updates dependencies and identifies security vulnerabilities.</p>
<h4 id="2-code-scanning-with-codeql"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#2-code-scanning-with-codeql">2. Code Scanning with CodeQL</a></h4>
<p>Create a file at <code>.github/workflows/codeql.yml</code> in the backend repository:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CodeQL&quot;</span>
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a>
</span><span id="__span-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="nt">on</span><span class="p">:</span>
</span><span id="__span-56-4"><a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">  </span><span class="nt">push</span><span class="p">:</span>
</span><span id="__span-56-5"><a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">main</span><span class="w"> </span><span class="p p-Indicator">]</span>
</span><span id="__span-56-6"><a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="w">  </span><span class="nt">pull_request</span><span class="p">:</span>
</span><span id="__span-56-7"><a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">main</span><span class="w"> </span><span class="p p-Indicator">]</span>
</span><span id="__span-56-8"><a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="w">  </span><span class="nt">schedule</span><span class="p">:</span>
</span><span id="__span-56-9"><a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cron</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;0</span><span class="nv"> </span><span class="s">0</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">0&#39;</span><span class="w">  </span><span class="c1"># Run weekly</span>
</span><span id="__span-56-10"><a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a>
</span><span id="__span-56-11"><a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a><span class="nt">jobs</span><span class="p">:</span>
</span><span id="__span-56-12"><a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a><span class="w">  </span><span class="nt">analyze</span><span class="p">:</span>
</span><span id="__span-56-13"><a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Analyze</span>
</span><span id="__span-56-14"><a id="__codelineno-56-14" name="__codelineno-56-14" href="#__codelineno-56-14"></a><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id="__span-56-15"><a id="__codelineno-56-15" name="__codelineno-56-15" href="#__codelineno-56-15"></a><span class="w">    </span><span class="nt">permissions</span><span class="p">:</span>
</span><span id="__span-56-16"><a id="__codelineno-56-16" name="__codelineno-56-16" href="#__codelineno-56-16"></a><span class="w">      </span><span class="nt">actions</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">read</span>
</span><span id="__span-56-17"><a id="__codelineno-56-17" name="__codelineno-56-17" href="#__codelineno-56-17"></a><span class="w">      </span><span class="nt">contents</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">read</span>
</span><span id="__span-56-18"><a id="__codelineno-56-18" name="__codelineno-56-18" href="#__codelineno-56-18"></a><span class="w">      </span><span class="nt">security-events</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
</span><span id="__span-56-19"><a id="__codelineno-56-19" name="__codelineno-56-19" href="#__codelineno-56-19"></a>
</span><span id="__span-56-20"><a id="__codelineno-56-20" name="__codelineno-56-20" href="#__codelineno-56-20"></a><span class="w">    </span><span class="nt">strategy</span><span class="p">:</span>
</span><span id="__span-56-21"><a id="__codelineno-56-21" name="__codelineno-56-21" href="#__codelineno-56-21"></a><span class="w">      </span><span class="nt">fail-fast</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</span><span id="__span-56-22"><a id="__codelineno-56-22" name="__codelineno-56-22" href="#__codelineno-56-22"></a><span class="w">      </span><span class="nt">matrix</span><span class="p">:</span>
</span><span id="__span-56-23"><a id="__codelineno-56-23" name="__codelineno-56-23" href="#__codelineno-56-23"></a><span class="w">        </span><span class="nt">language</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&#39;python&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;javascript&#39;</span><span class="w"> </span><span class="p p-Indicator">]</span>
</span><span id="__span-56-24"><a id="__codelineno-56-24" name="__codelineno-56-24" href="#__codelineno-56-24"></a>
</span><span id="__span-56-25"><a id="__codelineno-56-25" name="__codelineno-56-25" href="#__codelineno-56-25"></a><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-56-26"><a id="__codelineno-56-26" name="__codelineno-56-26" href="#__codelineno-56-26"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout repository</span>
</span><span id="__span-56-27"><a id="__codelineno-56-27" name="__codelineno-56-27" href="#__codelineno-56-27"></a><span class="w">      </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id="__span-56-28"><a id="__codelineno-56-28" name="__codelineno-56-28" href="#__codelineno-56-28"></a>
</span><span id="__span-56-29"><a id="__codelineno-56-29" name="__codelineno-56-29" href="#__codelineno-56-29"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Initialize CodeQL</span>
</span><span id="__span-56-30"><a id="__codelineno-56-30" name="__codelineno-56-30" href="#__codelineno-56-30"></a><span class="w">      </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github/codeql-action/init@v2</span>
</span><span id="__span-56-31"><a id="__codelineno-56-31" name="__codelineno-56-31" href="#__codelineno-56-31"></a><span class="w">      </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-56-32"><a id="__codelineno-56-32" name="__codelineno-56-32" href="#__codelineno-56-32"></a><span class="w">        </span><span class="nt">languages</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ matrix.language }}</span>
</span><span id="__span-56-33"><a id="__codelineno-56-33" name="__codelineno-56-33" href="#__codelineno-56-33"></a>
</span><span id="__span-56-34"><a id="__codelineno-56-34" name="__codelineno-56-34" href="#__codelineno-56-34"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Perform CodeQL Analysis</span>
</span><span id="__span-56-35"><a id="__codelineno-56-35" name="__codelineno-56-35" href="#__codelineno-56-35"></a><span class="w">      </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github/codeql-action/analyze@v2</span>
</span></code></pre></div>
<p>This workflow scans our code for security vulnerabilities and coding problems.</p>
<h4 id="3-branch-protection-rules"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#3-branch-protection-rules">3. Branch Protection Rules</a></h4>
<p>I've set up branch protection rules for the <code>main</code> branch in both repositories:</p>
<ul>
<li>Require pull request reviews before merging</li>
<li>Require status checks to pass before merging</li>
<li>Require signed commits</li>
<li>Do not allow bypassing the above settings</li>
</ul>
<h3 id="adding-verification-tests-to-the-workflow"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#adding-verification-tests-to-the-workflow">Adding Verification Tests to the Workflow üß™</a></h3>
<p>In addition to unit tests, I've added end-to-end integration tests to verify that the frontend and backend work together correctly:</p>
<h4 id="1-frontend-backend-integration-test"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#1-frontend-backend-integration-test">1. Frontend-Backend Integration Test</a></h4>
<p>Create a file at <code>tests/integration-test.js</code> in the frontend repository:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">axios</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;axios&#39;</span><span class="p">);</span>
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">assert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;assert&#39;</span><span class="p">);</span>
</span><span id="__span-57-3"><a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a>
</span><span id="__span-57-4"><a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="c1">// URLs to test - these should be passed as environment variables</span>
</span><span id="__span-57-5"><a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="kd">const</span><span class="w"> </span><span class="nx">WEBSITE_URL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">WEBSITE_URL</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;https://resume.yourdomain.com&#39;</span><span class="p">;</span>
</span><span id="__span-57-6"><a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="kd">const</span><span class="w"> </span><span class="nx">API_URL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">API_URL</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;https://api.yourdomain.com/count&#39;</span><span class="p">;</span>
</span><span id="__span-57-7"><a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a>
</span><span id="__span-57-8"><a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a><span class="c1">// Test that the API returns a valid response</span>
</span><span id="__span-57-9"><a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">testAPI</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-57-10"><a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a><span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-57-11"><a id="__codelineno-57-11" name="__codelineno-57-11" href="#__codelineno-57-11"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Testing API at </span><span class="si">${</span><span class="nx">API_URL</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-57-12"><a id="__codelineno-57-12" name="__codelineno-57-12" href="#__codelineno-57-12"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">API_URL</span><span class="p">);</span>
</span><span id="__span-57-13"><a id="__codelineno-57-13" name="__codelineno-57-13" href="#__codelineno-57-13"></a>
</span><span id="__span-57-14"><a id="__codelineno-57-14" name="__codelineno-57-14" href="#__codelineno-57-14"></a><span class="w">    </span><span class="c1">// Verify the API response contains a count</span>
</span><span id="__span-57-15"><a id="__codelineno-57-15" name="__codelineno-57-15" href="#__codelineno-57-15"></a><span class="w">    </span><span class="nx">assert</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">200</span><span class="p">,</span><span class="w"> </span><span class="sb">`API returned status </span><span class="si">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-57-16"><a id="__codelineno-57-16" name="__codelineno-57-16" href="#__codelineno-57-16"></a><span class="w">    </span><span class="nx">assert</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">count</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="kc">undefined</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;API response missing count field&#39;</span><span class="p">);</span>
</span><span id="__span-57-17"><a id="__codelineno-57-17" name="__codelineno-57-17" href="#__codelineno-57-17"></a><span class="w">    </span><span class="nx">assert</span><span class="p">(</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">count</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;number&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Count is not a number&#39;</span><span class="p">);</span>
</span><span id="__span-57-18"><a id="__codelineno-57-18" name="__codelineno-57-18" href="#__codelineno-57-18"></a>
</span><span id="__span-57-19"><a id="__codelineno-57-19" name="__codelineno-57-19" href="#__codelineno-57-19"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`API test successful. Count: </span><span class="si">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">count</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-57-20"><a id="__codelineno-57-20" name="__codelineno-57-20" href="#__codelineno-57-20"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="__span-57-21"><a id="__codelineno-57-21" name="__codelineno-57-21" href="#__codelineno-57-21"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-57-22"><a id="__codelineno-57-22" name="__codelineno-57-22" href="#__codelineno-57-22"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;API test failed:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
</span><span id="__span-57-23"><a id="__codelineno-57-23" name="__codelineno-57-23" href="#__codelineno-57-23"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="__span-57-24"><a id="__codelineno-57-24" name="__codelineno-57-24" href="#__codelineno-57-24"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-57-25"><a id="__codelineno-57-25" name="__codelineno-57-25" href="#__codelineno-57-25"></a><span class="p">}</span>
</span><span id="__span-57-26"><a id="__codelineno-57-26" name="__codelineno-57-26" href="#__codelineno-57-26"></a>
</span><span id="__span-57-27"><a id="__codelineno-57-27" name="__codelineno-57-27" href="#__codelineno-57-27"></a><span class="c1">// Test that the website loads and contains necessary elements</span>
</span><span id="__span-57-28"><a id="__codelineno-57-28" name="__codelineno-57-28" href="#__codelineno-57-28"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">testWebsite</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-57-29"><a id="__codelineno-57-29" name="__codelineno-57-29" href="#__codelineno-57-29"></a><span class="w">  </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-57-30"><a id="__codelineno-57-30" name="__codelineno-57-30" href="#__codelineno-57-30"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Testing website at </span><span class="si">${</span><span class="nx">WEBSITE_URL</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-57-31"><a id="__codelineno-57-31" name="__codelineno-57-31" href="#__codelineno-57-31"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">axios</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">WEBSITE_URL</span><span class="p">);</span>
</span><span id="__span-57-32"><a id="__codelineno-57-32" name="__codelineno-57-32" href="#__codelineno-57-32"></a>
</span><span id="__span-57-33"><a id="__codelineno-57-33" name="__codelineno-57-33" href="#__codelineno-57-33"></a><span class="w">    </span><span class="c1">// Verify the website loads</span>
</span><span id="__span-57-34"><a id="__codelineno-57-34" name="__codelineno-57-34" href="#__codelineno-57-34"></a><span class="w">    </span><span class="nx">assert</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">200</span><span class="p">,</span><span class="w"> </span><span class="sb">`Website returned status </span><span class="si">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
</span><span id="__span-57-35"><a id="__codelineno-57-35" name="__codelineno-57-35" href="#__codelineno-57-35"></a>
</span><span id="__span-57-36"><a id="__codelineno-57-36" name="__codelineno-57-36" href="#__codelineno-57-36"></a><span class="w">    </span><span class="c1">// Check that the page contains some expected content</span>
</span><span id="__span-57-37"><a id="__codelineno-57-37" name="__codelineno-57-37" href="#__codelineno-57-37"></a><span class="w">    </span><span class="nx">assert</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;&lt;html&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;Response is not HTML&#39;</span><span class="p">);</span>
</span><span id="__span-57-38"><a id="__codelineno-57-38" name="__codelineno-57-38" href="#__codelineno-57-38"></a><span class="w">    </span><span class="nx">assert</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;id=&quot;count&quot;&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;Counter element not found&#39;</span><span class="p">);</span>
</span><span id="__span-57-39"><a id="__codelineno-57-39" name="__codelineno-57-39" href="#__codelineno-57-39"></a>
</span><span id="__span-57-40"><a id="__codelineno-57-40" name="__codelineno-57-40" href="#__codelineno-57-40"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Website test successful&#39;</span><span class="p">);</span>
</span><span id="__span-57-41"><a id="__codelineno-57-41" name="__codelineno-57-41" href="#__codelineno-57-41"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="__span-57-42"><a id="__codelineno-57-42" name="__codelineno-57-42" href="#__codelineno-57-42"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-57-43"><a id="__codelineno-57-43" name="__codelineno-57-43" href="#__codelineno-57-43"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Website test failed:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
</span><span id="__span-57-44"><a id="__codelineno-57-44" name="__codelineno-57-44" href="#__codelineno-57-44"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="__span-57-45"><a id="__codelineno-57-45" name="__codelineno-57-45" href="#__codelineno-57-45"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-57-46"><a id="__codelineno-57-46" name="__codelineno-57-46" href="#__codelineno-57-46"></a><span class="p">}</span>
</span><span id="__span-57-47"><a id="__codelineno-57-47" name="__codelineno-57-47" href="#__codelineno-57-47"></a>
</span><span id="__span-57-48"><a id="__codelineno-57-48" name="__codelineno-57-48" href="#__codelineno-57-48"></a><span class="c1">// Run all tests</span>
</span><span id="__span-57-49"><a id="__codelineno-57-49" name="__codelineno-57-49" href="#__codelineno-57-49"></a><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">runTests</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-57-50"><a id="__codelineno-57-50" name="__codelineno-57-50" href="#__codelineno-57-50"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">apiResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">testAPI</span><span class="p">();</span>
</span><span id="__span-57-51"><a id="__codelineno-57-51" name="__codelineno-57-51" href="#__codelineno-57-51"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">websiteResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">testWebsite</span><span class="p">();</span>
</span><span id="__span-57-52"><a id="__codelineno-57-52" name="__codelineno-57-52" href="#__codelineno-57-52"></a>
</span><span id="__span-57-53"><a id="__codelineno-57-53" name="__codelineno-57-53" href="#__codelineno-57-53"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">apiResult</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">websiteResult</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-57-54"><a id="__codelineno-57-54" name="__codelineno-57-54" href="#__codelineno-57-54"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;All integration tests passed!&#39;</span><span class="p">);</span>
</span><span id="__span-57-55"><a id="__codelineno-57-55" name="__codelineno-57-55" href="#__codelineno-57-55"></a><span class="w">    </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">0</span><span class="p">);</span>
</span><span id="__span-57-56"><a id="__codelineno-57-56" name="__codelineno-57-56" href="#__codelineno-57-56"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-57-57"><a id="__codelineno-57-57" name="__codelineno-57-57" href="#__codelineno-57-57"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Some integration tests failed&#39;</span><span class="p">);</span>
</span><span id="__span-57-58"><a id="__codelineno-57-58" name="__codelineno-57-58" href="#__codelineno-57-58"></a><span class="w">    </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">1</span><span class="p">);</span>
</span><span id="__span-57-59"><a id="__codelineno-57-59" name="__codelineno-57-59" href="#__codelineno-57-59"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-57-60"><a id="__codelineno-57-60" name="__codelineno-57-60" href="#__codelineno-57-60"></a><span class="p">}</span>
</span><span id="__span-57-61"><a id="__codelineno-57-61" name="__codelineno-57-61" href="#__codelineno-57-61"></a>
</span><span id="__span-57-62"><a id="__codelineno-57-62" name="__codelineno-57-62" href="#__codelineno-57-62"></a><span class="c1">// Run the tests</span>
</span><span id="__span-57-63"><a id="__codelineno-57-63" name="__codelineno-57-63" href="#__codelineno-57-63"></a><span class="nx">runTests</span><span class="p">();</span>
</span></code></pre></div>
<p>Then add a step to the workflow:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run Integration Tests</span>
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="w">  </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="w">    </span><span class="no">npm install axios</span>
</span><span id="__span-58-4"><a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="w">    </span><span class="no">node tests/integration-test.js</span>
</span><span id="__span-58-5"><a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">  </span><span class="nt">env</span><span class="p">:</span>
</span><span id="__span-58-6"><a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="w">    </span><span class="nt">WEBSITE_URL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.WEBSITE_URL }}</span>
</span><span id="__span-58-7"><a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a><span class="w">    </span><span class="nt">API_URL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.API_URL }}</span>
</span></code></pre></div>
<h3 id="implementing-secure-github-action-secrets"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#implementing-secure-github-action-secrets">Implementing Secure GitHub Action Secrets üîê</a></h3>
<p>For our GitHub Actions workflows, I've set up the following repository secrets:</p>
<ul>
<li><code>AWS_ACCOUNT_ID</code>: The AWS account ID used for OIDC authentication</li>
<li><code>S3_BUCKET_NAME</code>: The name of the S3 bucket for the website</li>
<li><code>CLOUDFRONT_DISTRIBUTION_ID</code>: The ID of the CloudFront distribution</li>
<li><code>WEBSITE_URL</code>: The URL of the deployed website</li>
<li><code>API_URL</code>: The URL of the deployed API</li>
<li><code>TF_STATE_BUCKET</code>: The bucket for Terraform state</li>
<li><code>TF_STATE_KEY</code>: The key for Terraform state (dev)</li>
<li><code>TF_STATE_KEY_PROD</code>: The key for Terraform state (prod)</li>
<li><code>DOMAIN_NAME</code>: The domain name for the dev environment</li>
<li><code>DOMAIN_NAME_PROD</code>: The domain name for the prod environment</li>
</ul>
<p>These secrets are protected by GitHub and only exposed to authorized workflow runs.</p>
<h3 id="managing-manual-approvals-for-production-deployments"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#managing-manual-approvals-for-production-deployments">Managing Manual Approvals for Production Deployments üö¶</a></h3>
<p>For production deployments, I've added a manual approval step using GitHub Environments:</p>
<ol>
<li>Go to your repository settings</li>
<li>Navigate to Environments</li>
<li>Create a new environment called "production"</li>
<li>Enable "Required reviewers" and add yourself</li>
<li>Configure "Deployment branches" to limit deployments to specific branches</li>
</ol>
<p>Now, production deployments will require explicit approval from an authorized reviewer.</p>
<h3 id="monitoring-deployment-status-and-notifications"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#monitoring-deployment-status-and-notifications">Monitoring Deployment Status and Notifications üìä</a></h3>
<p>To stay informed about deployment status, I've added notifications to the workflow:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Notify Deployment Success</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="w">  </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">success()</span>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="w">  </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rtCamp/action-slack-notify@v2</span>
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="w">  </span><span class="nt">env</span><span class="p">:</span>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="w">    </span><span class="nt">SLACK_WEBHOOK</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.SLACK_WEBHOOK }}</span>
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="w">    </span><span class="nt">SLACK_TITLE</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deployment Successful</span>
</span><span id="__span-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="w">    </span><span class="nt">SLACK_MESSAGE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;‚úÖ</span><span class="nv"> </span><span class="s">Deployment</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">${{</span><span class="nv"> </span><span class="s">github.workflow</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">was</span><span class="nv"> </span><span class="s">successful!&quot;</span>
</span><span id="__span-59-8"><a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="w">    </span><span class="nt">SLACK_COLOR</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">good</span>
</span><span id="__span-59-9"><a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a>
</span><span id="__span-59-10"><a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Notify Deployment Failure</span>
</span><span id="__span-59-11"><a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a><span class="w">  </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">failure()</span>
</span><span id="__span-59-12"><a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a><span class="w">  </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rtCamp/action-slack-notify@v2</span>
</span><span id="__span-59-13"><a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a><span class="w">  </span><span class="nt">env</span><span class="p">:</span>
</span><span id="__span-59-14"><a id="__codelineno-59-14" name="__codelineno-59-14" href="#__codelineno-59-14"></a><span class="w">    </span><span class="nt">SLACK_WEBHOOK</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.SLACK_WEBHOOK }}</span>
</span><span id="__span-59-15"><a id="__codelineno-59-15" name="__codelineno-59-15" href="#__codelineno-59-15"></a><span class="w">    </span><span class="nt">SLACK_TITLE</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deployment Failed</span>
</span><span id="__span-59-16"><a id="__codelineno-59-16" name="__codelineno-59-16" href="#__codelineno-59-16"></a><span class="w">    </span><span class="nt">SLACK_MESSAGE</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;‚ùå</span><span class="nv"> </span><span class="s">Deployment</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">${{</span><span class="nv"> </span><span class="s">github.workflow</span><span class="nv"> </span><span class="s">}}</span><span class="nv"> </span><span class="s">failed!&quot;</span>
</span><span id="__span-59-17"><a id="__codelineno-59-17" name="__codelineno-59-17" href="#__codelineno-59-17"></a><span class="w">    </span><span class="nt">SLACK_COLOR</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">danger</span>
</span></code></pre></div>
<p>This sends notifications to a Slack channel when deployments succeed or fail.</p>
<h3 id="implementing-additional-security-for-aws-cloudfront"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#implementing-additional-security-for-aws-cloudfront">Implementing Additional Security for AWS CloudFront üîí</a></h3>
<p>To enhance the security of our CloudFront distribution, I've added a custom response headers policy:</p>
<div class="language-hcl highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_cloudfront_response_headers_policy&quot;</span><span class="w"> </span><span class="nv">&quot;security_headers&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;security-headers-policy&quot;</span>
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a>
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="w">  </span><span class="nb">security_headers_config</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="w">    </span><span class="nb">content_security_policy</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-60-6"><a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a><span class="w">      </span><span class="na">content_security_policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;default-src &#39;self&#39;; img-src &#39;self&#39;; script-src &#39;self&#39;; style-src &#39;self&#39;; object-src &#39;none&#39;;&quot;</span>
</span><span id="__span-60-7"><a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a><span class="w">      </span><span class="na">override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
</span><span id="__span-60-8"><a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-60-9"><a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a>
</span><span id="__span-60-10"><a id="__codelineno-60-10" name="__codelineno-60-10" href="#__codelineno-60-10"></a><span class="w">    </span><span class="nb">content_type_options</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-60-11"><a id="__codelineno-60-11" name="__codelineno-60-11" href="#__codelineno-60-11"></a><span class="w">      </span><span class="na">override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
</span><span id="__span-60-12"><a id="__codelineno-60-12" name="__codelineno-60-12" href="#__codelineno-60-12"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-60-13"><a id="__codelineno-60-13" name="__codelineno-60-13" href="#__codelineno-60-13"></a>
</span><span id="__span-60-14"><a id="__codelineno-60-14" name="__codelineno-60-14" href="#__codelineno-60-14"></a><span class="w">    </span><span class="nb">frame_options</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-60-15"><a id="__codelineno-60-15" name="__codelineno-60-15" href="#__codelineno-60-15"></a><span class="w">      </span><span class="na">frame_option</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;DENY&quot;</span>
</span><span id="__span-60-16"><a id="__codelineno-60-16" name="__codelineno-60-16" href="#__codelineno-60-16"></a><span class="w">      </span><span class="na">override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
</span><span id="__span-60-17"><a id="__codelineno-60-17" name="__codelineno-60-17" href="#__codelineno-60-17"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-60-18"><a id="__codelineno-60-18" name="__codelineno-60-18" href="#__codelineno-60-18"></a>
</span><span id="__span-60-19"><a id="__codelineno-60-19" name="__codelineno-60-19" href="#__codelineno-60-19"></a><span class="w">    </span><span class="nb">referrer_policy</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-60-20"><a id="__codelineno-60-20" name="__codelineno-60-20" href="#__codelineno-60-20"></a><span class="w">      </span><span class="na">referrer_policy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;same-origin&quot;</span>
</span><span id="__span-60-21"><a id="__codelineno-60-21" name="__codelineno-60-21" href="#__codelineno-60-21"></a><span class="w">      </span><span class="na">override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
</span><span id="__span-60-22"><a id="__codelineno-60-22" name="__codelineno-60-22" href="#__codelineno-60-22"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-60-23"><a id="__codelineno-60-23" name="__codelineno-60-23" href="#__codelineno-60-23"></a>
</span><span id="__span-60-24"><a id="__codelineno-60-24" name="__codelineno-60-24" href="#__codelineno-60-24"></a><span class="w">    </span><span class="nb">strict_transport_security</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-60-25"><a id="__codelineno-60-25" name="__codelineno-60-25" href="#__codelineno-60-25"></a><span class="w">      </span><span class="na">access_control_max_age_sec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">31536000</span>
</span><span id="__span-60-26"><a id="__codelineno-60-26" name="__codelineno-60-26" href="#__codelineno-60-26"></a><span class="w">      </span><span class="na">include_subdomains</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
</span><span id="__span-60-27"><a id="__codelineno-60-27" name="__codelineno-60-27" href="#__codelineno-60-27"></a><span class="w">      </span><span class="na">preload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
</span><span id="__span-60-28"><a id="__codelineno-60-28" name="__codelineno-60-28" href="#__codelineno-60-28"></a><span class="w">      </span><span class="na">override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
</span><span id="__span-60-29"><a id="__codelineno-60-29" name="__codelineno-60-29" href="#__codelineno-60-29"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-60-30"><a id="__codelineno-60-30" name="__codelineno-60-30" href="#__codelineno-60-30"></a>
</span><span id="__span-60-31"><a id="__codelineno-60-31" name="__codelineno-60-31" href="#__codelineno-60-31"></a><span class="w">    </span><span class="nb">xss_protection</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-60-32"><a id="__codelineno-60-32" name="__codelineno-60-32" href="#__codelineno-60-32"></a><span class="w">      </span><span class="na">mode_block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
</span><span id="__span-60-33"><a id="__codelineno-60-33" name="__codelineno-60-33" href="#__codelineno-60-33"></a><span class="w">      </span><span class="na">protection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
</span><span id="__span-60-34"><a id="__codelineno-60-34" name="__codelineno-60-34" href="#__codelineno-60-34"></a><span class="w">      </span><span class="na">override</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
</span><span id="__span-60-35"><a id="__codelineno-60-35" name="__codelineno-60-35" href="#__codelineno-60-35"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-60-36"><a id="__codelineno-60-36" name="__codelineno-60-36" href="#__codelineno-60-36"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-60-37"><a id="__codelineno-60-37" name="__codelineno-60-37" href="#__codelineno-60-37"></a><span class="p">}</span>
</span></code></pre></div>
<p>Then reference this policy in the CloudFront distribution:</p>
<div class="language-hcl highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_cloudfront_distribution&quot;</span><span class="w"> </span><span class="nv">&quot;website&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="c1">  # ... other configuration ...</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="w">  </span><span class="nb">default_cache_behavior</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="c1">    # ... other configuration ...</span>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="w">    </span><span class="na">response_headers_policy_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_cloudfront_response_headers_policy.security_headers.id</span>
</span><span id="__span-61-7"><a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-61-8"><a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="lessons-learned"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#lessons-learned">Lessons Learned üí°</a></h3>
<p>Implementing CI/CD for this project taught me several valuable lessons:</p>
<ol>
<li>
<p><strong>Start Simple, Then Iterate</strong>: My first workflow was basic - just syncing files to S3. As I gained confidence, I added testing, multiple environments, and security features.</p>
</li>
<li>
<p><strong>Security Is Non-Negotiable</strong>: Using OIDC for authentication instead of long-lived credentials was a game-changer for security. This approach follows AWS best practices and eliminates credential management headaches.</p>
</li>
<li>
<p><strong>Test Everything</strong>: Automated tests at every level (unit, integration, end-to-end) catch issues early. The time invested in writing tests paid off with more reliable deployments.</p>
</li>
<li>
<p><strong>Environment Separation</strong>: Keeping development and production environments separate allowed me to test changes safely before affecting the live site.</p>
</li>
<li>
<p><strong>Infrastructure as Code Works</strong>: Using Terraform to define all infrastructure components made the CI/CD process much more reliable. Everything is tracked, versioned, and repeatable.</p>
</li>
</ol>
<h3 id="my-integration-challenges-and-solutions"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#my-integration-challenges-and-solutions">My Integration Challenges and Solutions üß©</a></h3>
<p>During implementation, I encountered several challenges:</p>
<ol>
<li>
<p><strong>CORS Issues</strong>: The API and website needed proper CORS configuration to work together. Adding the correct headers in both Lambda and API Gateway fixed this.</p>
</li>
<li>
<p><strong>Environment Variables</strong>: Managing different configurations for dev and prod was tricky. I solved this by using GitHub environment variables and separate Terraform workspaces.</p>
</li>
<li>
<p><strong>Cache Invalidation Delays</strong>: Changes to the website sometimes weren't visible immediately due to CloudFront caching. Adding proper cache invalidation to the workflow fixed this.</p>
</li>
<li>
<p><strong>State Locking</strong>: When multiple workflow runs executed simultaneously, they occasionally conflicted on Terraform state. Using DynamoDB for state locking resolved this issue.</p>
</li>
</ol>
<h3 id="devops-mod-multi-stage-pipeline-with-pull-request-environments"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#devops-mod-multi-stage-pipeline-with-pull-request-environments">DevOps Mod: Multi-Stage Pipeline with Pull Request Environments üöÄ</a></h3>
<p>To extend this challenge further, I implemented a feature that creates temporary preview environments for pull requests:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="w">  </span><span class="nt">create_preview</span><span class="p">:</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Create</span><span class="nv"> </span><span class="s">Preview</span><span class="nv"> </span><span class="s">Environment&#39;</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="w">    </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github.event_name == &#39;pull_request&#39;</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a>
</span><span id="__span-62-6"><a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-62-7"><a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout Repository</span>
</span><span id="__span-62-8"><a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id="__span-62-9"><a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a>
</span><span id="__span-62-10"><a id="__codelineno-62-10" name="__codelineno-62-10" href="#__codelineno-62-10"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Configure AWS Credentials</span>
</span><span id="__span-62-11"><a id="__codelineno-62-11" name="__codelineno-62-11" href="#__codelineno-62-11"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">aws-actions/configure-aws-credentials@v2</span>
</span><span id="__span-62-12"><a id="__codelineno-62-12" name="__codelineno-62-12" href="#__codelineno-62-12"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-62-13"><a id="__codelineno-62-13" name="__codelineno-62-13" href="#__codelineno-62-13"></a><span class="w">          </span><span class="nt">role-to-assume</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">arn:aws:iam::${{ secrets.AWS_ACCOUNT_ID }}:role/github-actions-role</span>
</span><span id="__span-62-14"><a id="__codelineno-62-14" name="__codelineno-62-14" href="#__codelineno-62-14"></a><span class="w">          </span><span class="nt">aws-region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
</span><span id="__span-62-15"><a id="__codelineno-62-15" name="__codelineno-62-15" href="#__codelineno-62-15"></a>
</span><span id="__span-62-16"><a id="__codelineno-62-16" name="__codelineno-62-16" href="#__codelineno-62-16"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Setup Terraform</span>
</span><span id="__span-62-17"><a id="__codelineno-62-17" name="__codelineno-62-17" href="#__codelineno-62-17"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">hashicorp/setup-terraform@v2</span>
</span><span id="__span-62-18"><a id="__codelineno-62-18" name="__codelineno-62-18" href="#__codelineno-62-18"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-62-19"><a id="__codelineno-62-19" name="__codelineno-62-19" href="#__codelineno-62-19"></a><span class="w">          </span><span class="nt">terraform_version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.2.0</span>
</span><span id="__span-62-20"><a id="__codelineno-62-20" name="__codelineno-62-20" href="#__codelineno-62-20"></a>
</span><span id="__span-62-21"><a id="__codelineno-62-21" name="__codelineno-62-21" href="#__codelineno-62-21"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Generate Unique Environment Name</span>
</span><span id="__span-62-22"><a id="__codelineno-62-22" name="__codelineno-62-22" href="#__codelineno-62-22"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-62-23"><a id="__codelineno-62-23" name="__codelineno-62-23" href="#__codelineno-62-23"></a><span class="w">          </span><span class="no">PR_NUMBER=${{ github.event.pull_request.number }}</span>
</span><span id="__span-62-24"><a id="__codelineno-62-24" name="__codelineno-62-24" href="#__codelineno-62-24"></a><span class="w">          </span><span class="no">BRANCH_NAME=$(echo ${{ github.head_ref }} | tr -cd &#39;[:alnum:]&#39; | tr &#39;[:upper:]&#39; &#39;[:lower:]&#39;)</span>
</span><span id="__span-62-25"><a id="__codelineno-62-25" name="__codelineno-62-25" href="#__codelineno-62-25"></a><span class="w">          </span><span class="no">ENV_NAME=&quot;pr-${PR_NUMBER}-${BRANCH_NAME}&quot;</span>
</span><span id="__span-62-26"><a id="__codelineno-62-26" name="__codelineno-62-26" href="#__codelineno-62-26"></a><span class="w">          </span><span class="no">echo &quot;ENV_NAME=${ENV_NAME}&quot; &gt;&gt; $GITHUB_ENV</span>
</span><span id="__span-62-27"><a id="__codelineno-62-27" name="__codelineno-62-27" href="#__codelineno-62-27"></a>
</span><span id="__span-62-28"><a id="__codelineno-62-28" name="__codelineno-62-28" href="#__codelineno-62-28"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Terraform Init</span>
</span><span id="__span-62-29"><a id="__codelineno-62-29" name="__codelineno-62-29" href="#__codelineno-62-29"></a><span class="w">        </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform</span>
</span><span id="__span-62-30"><a id="__codelineno-62-30" name="__codelineno-62-30" href="#__codelineno-62-30"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">terraform init -backend-config=&quot;bucket=${{ secrets.TF_STATE_BUCKET }}&quot; -backend-config=&quot;key=preview/${{ env.ENV_NAME }}/terraform.tfstate&quot; -backend-config=&quot;region=us-east-1&quot;</span>
</span><span id="__span-62-31"><a id="__codelineno-62-31" name="__codelineno-62-31" href="#__codelineno-62-31"></a>
</span><span id="__span-62-32"><a id="__codelineno-62-32" name="__codelineno-62-32" href="#__codelineno-62-32"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Terraform Apply</span>
</span><span id="__span-62-33"><a id="__codelineno-62-33" name="__codelineno-62-33" href="#__codelineno-62-33"></a><span class="w">        </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./terraform</span>
</span><span id="__span-62-34"><a id="__codelineno-62-34" name="__codelineno-62-34" href="#__codelineno-62-34"></a><span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-62-35"><a id="__codelineno-62-35" name="__codelineno-62-35" href="#__codelineno-62-35"></a><span class="w">          </span><span class="no">terraform apply -auto-approve \</span>
</span><span id="__span-62-36"><a id="__codelineno-62-36" name="__codelineno-62-36" href="#__codelineno-62-36"></a><span class="w">            </span><span class="no">-var=&quot;environment=${{ env.ENV_NAME }}&quot; \</span>
</span><span id="__span-62-37"><a id="__codelineno-62-37" name="__codelineno-62-37" href="#__codelineno-62-37"></a><span class="w">            </span><span class="no">-var=&quot;domain_name=pr-${{ github.event.pull_request.number }}.${{ secrets.DOMAIN_NAME }}&quot;</span>
</span><span id="__span-62-38"><a id="__codelineno-62-38" name="__codelineno-62-38" href="#__codelineno-62-38"></a>
</span><span id="__span-62-39"><a id="__codelineno-62-39" name="__codelineno-62-39" href="#__codelineno-62-39"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Comment Preview URL</span>
</span><span id="__span-62-40"><a id="__codelineno-62-40" name="__codelineno-62-40" href="#__codelineno-62-40"></a><span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/github-script@v6</span>
</span><span id="__span-62-41"><a id="__codelineno-62-41" name="__codelineno-62-41" href="#__codelineno-62-41"></a><span class="w">        </span><span class="nt">with</span><span class="p">:</span>
</span><span id="__span-62-42"><a id="__codelineno-62-42" name="__codelineno-62-42" href="#__codelineno-62-42"></a><span class="w">          </span><span class="nt">github-token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.GITHUB_TOKEN }}</span>
</span><span id="__span-62-43"><a id="__codelineno-62-43" name="__codelineno-62-43" href="#__codelineno-62-43"></a><span class="w">          </span><span class="nt">script</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-62-44"><a id="__codelineno-62-44" name="__codelineno-62-44" href="#__codelineno-62-44"></a><span class="w">            </span><span class="no">const output = `## üöÄ Preview Environment Deployed</span>
</span><span id="__span-62-45"><a id="__codelineno-62-45" name="__codelineno-62-45" href="#__codelineno-62-45"></a>
</span><span id="__span-62-46"><a id="__codelineno-62-46" name="__codelineno-62-46" href="#__codelineno-62-46"></a><span class="w">            </span><span class="no">Preview URL: https://pr-${{ github.event.pull_request.number }}.${{ secrets.DOMAIN_NAME }}</span>
</span><span id="__span-62-47"><a id="__codelineno-62-47" name="__codelineno-62-47" href="#__codelineno-62-47"></a>
</span><span id="__span-62-48"><a id="__codelineno-62-48" name="__codelineno-62-48" href="#__codelineno-62-48"></a><span class="w">            </span><span class="no">API Endpoint: https://api-pr-${{ github.event.pull_request.number }}.${{ secrets.DOMAIN_NAME }}/count</span>
</span><span id="__span-62-49"><a id="__codelineno-62-49" name="__codelineno-62-49" href="#__codelineno-62-49"></a>
</span><span id="__span-62-50"><a id="__codelineno-62-50" name="__codelineno-62-50" href="#__codelineno-62-50"></a><span class="w">            </span><span class="no">This environment will be automatically deleted when the PR is closed.`;</span>
</span><span id="__span-62-51"><a id="__codelineno-62-51" name="__codelineno-62-51" href="#__codelineno-62-51"></a>
</span><span id="__span-62-52"><a id="__codelineno-62-52" name="__codelineno-62-52" href="#__codelineno-62-52"></a><span class="w">            </span><span class="no">github.rest.issues.createComment({</span>
</span><span id="__span-62-53"><a id="__codelineno-62-53" name="__codelineno-62-53" href="#__codelineno-62-53"></a><span class="w">              </span><span class="no">issue_number: context.issue.number,</span>
</span><span id="__span-62-54"><a id="__codelineno-62-54" name="__codelineno-62-54" href="#__codelineno-62-54"></a><span class="w">              </span><span class="no">owner: context.repo.owner,</span>
</span><span id="__span-62-55"><a id="__codelineno-62-55" name="__codelineno-62-55" href="#__codelineno-62-55"></a><span class="w">              </span><span class="no">repo: context.repo.repo,</span>
</span><span id="__span-62-56"><a id="__codelineno-62-56" name="__codelineno-62-56" href="#__codelineno-62-56"></a><span class="w">              </span><span class="no">body: output</span>
</span><span id="__span-62-57"><a id="__codelineno-62-57" name="__codelineno-62-57" href="#__codelineno-62-57"></a><span class="w">            </span><span class="no">})</span>
</span></code></pre></div>
<p>And add a cleanup job to delete the preview environment when the PR is closed:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="w">  </span><span class="nt">cleanup_preview</span><span class="p">:</span>
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;Cleanup</span><span class="nv"> </span><span class="s">Preview</span><span class="nv"> </span><span class="s">Environment&#39;</span>
</span><span id="__span-63-3"><a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id="__span-63-4"><a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="w">    </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github.event_name == &#39;pull_request&#39; &amp;&amp; github.event.action == &#39;closed&#39;</span>
</span><span id="__span-63-5"><a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a>
</span><span id="__span-63-6"><a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a><span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-63-7"><a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a><span class="w">      </span><span class="c1"># Similar to create_preview but with terraform destroy</span>
</span></code></pre></div>
<h3 id="security-mod-implementing-aws-secrets-manager-for-api-keys"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#security-mod-implementing-aws-secrets-manager-for-api-keys">Security Mod: Implementing AWS Secrets Manager for API Keys üîê</a></h3>
<p>To enhance the security of our API, I added API key authentication using AWS Secrets Manager:</p>
<div class="language-hcl highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="c1"># Create a secret to store the API key</span>
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_secretsmanager_secret&quot;</span><span class="w"> </span><span class="nv">&quot;api_key&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-3"><a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="w">  </span><span class="na">name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;resume-api-key-${var.environment}&quot;</span>
</span><span id="__span-64-4"><a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a><span class="w">  </span><span class="na">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;API key for the Resume API&quot;</span>
</span><span id="__span-64-5"><a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a><span class="p">}</span>
</span><span id="__span-64-6"><a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a>
</span><span id="__span-64-7"><a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a><span class="c1"># Generate a random API key</span>
</span><span id="__span-64-8"><a id="__codelineno-64-8" name="__codelineno-64-8" href="#__codelineno-64-8"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;random_password&quot;</span><span class="w"> </span><span class="nv">&quot;api_key&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-9"><a id="__codelineno-64-9" name="__codelineno-64-9" href="#__codelineno-64-9"></a><span class="w">  </span><span class="na">length</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="m">32</span>
</span><span id="__span-64-10"><a id="__codelineno-64-10" name="__codelineno-64-10" href="#__codelineno-64-10"></a><span class="w">  </span><span class="na">special</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">false</span>
</span><span id="__span-64-11"><a id="__codelineno-64-11" name="__codelineno-64-11" href="#__codelineno-64-11"></a><span class="p">}</span>
</span><span id="__span-64-12"><a id="__codelineno-64-12" name="__codelineno-64-12" href="#__codelineno-64-12"></a>
</span><span id="__span-64-13"><a id="__codelineno-64-13" name="__codelineno-64-13" href="#__codelineno-64-13"></a><span class="c1"># Store the API key in Secrets Manager</span>
</span><span id="__span-64-14"><a id="__codelineno-64-14" name="__codelineno-64-14" href="#__codelineno-64-14"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_secretsmanager_secret_version&quot;</span><span class="w"> </span><span class="nv">&quot;api_key&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-15"><a id="__codelineno-64-15" name="__codelineno-64-15" href="#__codelineno-64-15"></a><span class="w">  </span><span class="na">secret_id</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_secretsmanager_secret.api_key.id</span>
</span><span id="__span-64-16"><a id="__codelineno-64-16" name="__codelineno-64-16" href="#__codelineno-64-16"></a><span class="w">  </span><span class="na">secret_string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">random_password.api_key.result</span>
</span><span id="__span-64-17"><a id="__codelineno-64-17" name="__codelineno-64-17" href="#__codelineno-64-17"></a><span class="p">}</span>
</span><span id="__span-64-18"><a id="__codelineno-64-18" name="__codelineno-64-18" href="#__codelineno-64-18"></a>
</span><span id="__span-64-19"><a id="__codelineno-64-19" name="__codelineno-64-19" href="#__codelineno-64-19"></a><span class="c1"># Add API key to API Gateway</span>
</span><span id="__span-64-20"><a id="__codelineno-64-20" name="__codelineno-64-20" href="#__codelineno-64-20"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_api_gateway_api_key&quot;</span><span class="w"> </span><span class="nv">&quot;visitor_counter&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-21"><a id="__codelineno-64-21" name="__codelineno-64-21" href="#__codelineno-64-21"></a><span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;visitor-counter-key-${var.environment}&quot;</span>
</span><span id="__span-64-22"><a id="__codelineno-64-22" name="__codelineno-64-22" href="#__codelineno-64-22"></a><span class="p">}</span>
</span><span id="__span-64-23"><a id="__codelineno-64-23" name="__codelineno-64-23" href="#__codelineno-64-23"></a>
</span><span id="__span-64-24"><a id="__codelineno-64-24" name="__codelineno-64-24" href="#__codelineno-64-24"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_api_gateway_usage_plan&quot;</span><span class="w"> </span><span class="nv">&quot;visitor_counter&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-25"><a id="__codelineno-64-25" name="__codelineno-64-25" href="#__codelineno-64-25"></a><span class="w">  </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;visitor-counter-usage-plan-${var.environment}&quot;</span>
</span><span id="__span-64-26"><a id="__codelineno-64-26" name="__codelineno-64-26" href="#__codelineno-64-26"></a>
</span><span id="__span-64-27"><a id="__codelineno-64-27" name="__codelineno-64-27" href="#__codelineno-64-27"></a><span class="w">  </span><span class="nb">api_stages</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-28"><a id="__codelineno-64-28" name="__codelineno-64-28" href="#__codelineno-64-28"></a><span class="w">    </span><span class="na">api_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_api_gateway_rest_api.visitor_counter.id</span>
</span><span id="__span-64-29"><a id="__codelineno-64-29" name="__codelineno-64-29" href="#__codelineno-64-29"></a><span class="w">    </span><span class="na">stage</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_api_gateway_deployment.visitor_counter.stage_name</span>
</span><span id="__span-64-30"><a id="__codelineno-64-30" name="__codelineno-64-30" href="#__codelineno-64-30"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-64-31"><a id="__codelineno-64-31" name="__codelineno-64-31" href="#__codelineno-64-31"></a>
</span><span id="__span-64-32"><a id="__codelineno-64-32" name="__codelineno-64-32" href="#__codelineno-64-32"></a><span class="w">  </span><span class="nb">quota_settings</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-33"><a id="__codelineno-64-33" name="__codelineno-64-33" href="#__codelineno-64-33"></a><span class="w">    </span><span class="na">limit</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="m">1000</span>
</span><span id="__span-64-34"><a id="__codelineno-64-34" name="__codelineno-64-34" href="#__codelineno-64-34"></a><span class="w">    </span><span class="na">period</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;DAY&quot;</span>
</span><span id="__span-64-35"><a id="__codelineno-64-35" name="__codelineno-64-35" href="#__codelineno-64-35"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-64-36"><a id="__codelineno-64-36" name="__codelineno-64-36" href="#__codelineno-64-36"></a>
</span><span id="__span-64-37"><a id="__codelineno-64-37" name="__codelineno-64-37" href="#__codelineno-64-37"></a><span class="w">  </span><span class="nb">throttle_settings</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-38"><a id="__codelineno-64-38" name="__codelineno-64-38" href="#__codelineno-64-38"></a><span class="w">    </span><span class="na">burst_limit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span>
</span><span id="__span-64-39"><a id="__codelineno-64-39" name="__codelineno-64-39" href="#__codelineno-64-39"></a><span class="w">    </span><span class="na">rate_limit</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>
</span><span id="__span-64-40"><a id="__codelineno-64-40" name="__codelineno-64-40" href="#__codelineno-64-40"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-64-41"><a id="__codelineno-64-41" name="__codelineno-64-41" href="#__codelineno-64-41"></a><span class="p">}</span>
</span><span id="__span-64-42"><a id="__codelineno-64-42" name="__codelineno-64-42" href="#__codelineno-64-42"></a>
</span><span id="__span-64-43"><a id="__codelineno-64-43" name="__codelineno-64-43" href="#__codelineno-64-43"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_api_gateway_usage_plan_key&quot;</span><span class="w"> </span><span class="nv">&quot;visitor_counter&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-44"><a id="__codelineno-64-44" name="__codelineno-64-44" href="#__codelineno-64-44"></a><span class="w">  </span><span class="na">key_id</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_api_gateway_api_key.visitor_counter.id</span>
</span><span id="__span-64-45"><a id="__codelineno-64-45" name="__codelineno-64-45" href="#__codelineno-64-45"></a><span class="w">  </span><span class="na">key_type</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;API_KEY&quot;</span>
</span><span id="__span-64-46"><a id="__codelineno-64-46" name="__codelineno-64-46" href="#__codelineno-64-46"></a><span class="w">  </span><span class="na">usage_plan_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_api_gateway_usage_plan.visitor_counter.id</span>
</span><span id="__span-64-47"><a id="__codelineno-64-47" name="__codelineno-64-47" href="#__codelineno-64-47"></a><span class="p">}</span>
</span><span id="__span-64-48"><a id="__codelineno-64-48" name="__codelineno-64-48" href="#__codelineno-64-48"></a>
</span><span id="__span-64-49"><a id="__codelineno-64-49" name="__codelineno-64-49" href="#__codelineno-64-49"></a><span class="c1"># Update the Lambda function to verify the API key</span>
</span><span id="__span-64-50"><a id="__codelineno-64-50" name="__codelineno-64-50" href="#__codelineno-64-50"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_lambda_function&quot;</span><span class="w"> </span><span class="nv">&quot;visitor_counter&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-51"><a id="__codelineno-64-51" name="__codelineno-64-51" href="#__codelineno-64-51"></a><span class="c1">  # ... existing configuration ...</span>
</span><span id="__span-64-52"><a id="__codelineno-64-52" name="__codelineno-64-52" href="#__codelineno-64-52"></a>
</span><span id="__span-64-53"><a id="__codelineno-64-53" name="__codelineno-64-53" href="#__codelineno-64-53"></a><span class="w">  </span><span class="nb">environment</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-54"><a id="__codelineno-64-54" name="__codelineno-64-54" href="#__codelineno-64-54"></a><span class="w">    </span><span class="nb">variables</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-64-55"><a id="__codelineno-64-55" name="__codelineno-64-55" href="#__codelineno-64-55"></a><span class="w">      </span><span class="na">DYNAMODB_TABLE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_dynamodb_table.visitor_counter.name</span>
</span><span id="__span-64-56"><a id="__codelineno-64-56" name="__codelineno-64-56" href="#__codelineno-64-56"></a><span class="w">      </span><span class="na">ALLOWED_ORIGIN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">var.website_domain</span>
</span><span id="__span-64-57"><a id="__codelineno-64-57" name="__codelineno-64-57" href="#__codelineno-64-57"></a><span class="w">      </span><span class="na">API_KEY_SECRET</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_secretsmanager_secret.api_key.name</span>
</span><span id="__span-64-58"><a id="__codelineno-64-58" name="__codelineno-64-58" href="#__codelineno-64-58"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-64-59"><a id="__codelineno-64-59" name="__codelineno-64-59" href="#__codelineno-64-59"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-64-60"><a id="__codelineno-64-60" name="__codelineno-64-60" href="#__codelineno-64-60"></a><span class="p">}</span>
</span></code></pre></div>
<p>Then, modify the Lambda function to retrieve and validate the API key:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">boto3</span>
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span id="__span-65-4"><a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a>
</span><span id="__span-65-5"><a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="c1"># Initialize Secrets Manager client</span>
</span><span id="__span-65-6"><a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a><span class="n">secretsmanager</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;secretsmanager&#39;</span><span class="p">)</span>
</span><span id="__span-65-7"><a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a>
</span><span id="__span-65-8"><a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_api_key</span><span class="p">():</span>
</span><span id="__span-65-9"><a id="__codelineno-65-9" name="__codelineno-65-9" href="#__codelineno-65-9"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve the API key from Secrets Manager&quot;&quot;&quot;</span>
</span><span id="__span-65-10"><a id="__codelineno-65-10" name="__codelineno-65-10" href="#__codelineno-65-10"></a>    <span class="n">secret_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;API_KEY_SECRET&#39;</span><span class="p">]</span>
</span><span id="__span-65-11"><a id="__codelineno-65-11" name="__codelineno-65-11" href="#__codelineno-65-11"></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">secretsmanager</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">(</span><span class="n">SecretId</span><span class="o">=</span><span class="n">secret_name</span><span class="p">)</span>
</span><span id="__span-65-12"><a id="__codelineno-65-12" name="__codelineno-65-12" href="#__codelineno-65-12"></a>    <span class="k">return</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;SecretString&#39;</span><span class="p">]</span>
</span><span id="__span-65-13"><a id="__codelineno-65-13" name="__codelineno-65-13" href="#__codelineno-65-13"></a>
</span><span id="__span-65-14"><a id="__codelineno-65-14" name="__codelineno-65-14" href="#__codelineno-65-14"></a><span class="k">def</span><span class="w"> </span><span class="nf">lambda_handler</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
</span><span id="__span-65-15"><a id="__codelineno-65-15" name="__codelineno-65-15" href="#__codelineno-65-15"></a>    <span class="c1"># Verify API key</span>
</span><span id="__span-65-16"><a id="__codelineno-65-16" name="__codelineno-65-16" href="#__codelineno-65-16"></a>    <span class="n">api_key</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;headers&#39;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;x-api-key&#39;</span><span class="p">)</span>
</span><span id="__span-65-17"><a id="__codelineno-65-17" name="__codelineno-65-17" href="#__codelineno-65-17"></a>    <span class="n">expected_api_key</span> <span class="o">=</span> <span class="n">get_api_key</span><span class="p">()</span>
</span><span id="__span-65-18"><a id="__codelineno-65-18" name="__codelineno-65-18" href="#__codelineno-65-18"></a>
</span><span id="__span-65-19"><a id="__codelineno-65-19" name="__codelineno-65-19" href="#__codelineno-65-19"></a>    <span class="k">if</span> <span class="n">api_key</span> <span class="o">!=</span> <span class="n">expected_api_key</span><span class="p">:</span>
</span><span id="__span-65-20"><a id="__codelineno-65-20" name="__codelineno-65-20" href="#__codelineno-65-20"></a>        <span class="k">return</span> <span class="p">{</span>
</span><span id="__span-65-21"><a id="__codelineno-65-21" name="__codelineno-65-21" href="#__codelineno-65-21"></a>            <span class="s1">&#39;statusCode&#39;</span><span class="p">:</span> <span class="mi">403</span><span class="p">,</span>
</span><span id="__span-65-22"><a id="__codelineno-65-22" name="__codelineno-65-22" href="#__codelineno-65-22"></a>            <span class="s1">&#39;headers&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-65-23"><a id="__codelineno-65-23" name="__codelineno-65-23" href="#__codelineno-65-23"></a>                <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span>
</span><span id="__span-65-24"><a id="__codelineno-65-24" name="__codelineno-65-24" href="#__codelineno-65-24"></a>            <span class="p">},</span>
</span><span id="__span-65-25"><a id="__codelineno-65-25" name="__codelineno-65-25" href="#__codelineno-65-25"></a>            <span class="s1">&#39;body&#39;</span><span class="p">:</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
</span><span id="__span-65-26"><a id="__codelineno-65-26" name="__codelineno-65-26" href="#__codelineno-65-26"></a>                <span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Forbidden&#39;</span><span class="p">,</span>
</span><span id="__span-65-27"><a id="__codelineno-65-27" name="__codelineno-65-27" href="#__codelineno-65-27"></a>                <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;Invalid API key&#39;</span>
</span><span id="__span-65-28"><a id="__codelineno-65-28" name="__codelineno-65-28" href="#__codelineno-65-28"></a>            <span class="p">})</span>
</span><span id="__span-65-29"><a id="__codelineno-65-29" name="__codelineno-65-29" href="#__codelineno-65-29"></a>        <span class="p">}</span>
</span><span id="__span-65-30"><a id="__codelineno-65-30" name="__codelineno-65-30" href="#__codelineno-65-30"></a>
</span><span id="__span-65-31"><a id="__codelineno-65-31" name="__codelineno-65-31" href="#__codelineno-65-31"></a>    <span class="c1"># Rest of the function...</span>
</span></code></pre></div>
<h3 id="next-steps"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/#next-steps">Next Steps ‚è≠Ô∏è</a></h3>
<p>With our CI/CD pipelines in place, our Cloud Resume Challenge implementation is complete! In the final post, we'll reflect on the project as a whole, discuss lessons learned, and explore potential future enhancements.</p>
<hr />
<p><strong>Up Next:</strong> [Cloud Resume Challenge with Terraform: Final Thoughts &amp; Lessons Learned] üîó</p>
<p><a class="md-button" href="https://x.com/intent/tweet?text=Cloud%20Resume%20Challenge%20with%20Terraform%3A%20Automating%20Deployments%20with%20GitHub%20Actions%0A&amp;url=https://blog.pollockweb.com/blog/cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/">Share on <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg></span></a>
<a class="md-button" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.pollockweb.com/blog/cloud-resume-challenge-with-terraform-automating-deployments-with-github-actions/">Share on <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a9 9 0 0 1 1.141.195v3.325a9 9 0 0 0-.653-.036 27 27 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.7 1.7 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647"/></svg></span></a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://avatars.githubusercontent.com/u/110421070?s=400&v=4" alt="Matthew Pollock">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2025-03-17 00:00:00+00:00">March 17, 2025</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../aws/" class="md-meta__link">AWS</a>, 
              <a href="../terraform/" class="md-meta__link">Terraform</a>, 
              <a href="./" class="md-meta__link">DevOps</a>, 
              <a href="../cloud-resume-challenge/" class="md-meta__link">Cloud Resume Challenge</a></li>
        
        
          
          <li class="md-meta__item">
            
              5 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="cloud-resume-challenge-with-terraform-introduction-setup"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/">Cloud Resume Challenge with Terraform: Introduction &amp; Setup üöÄ</a></h2>
<h3 id="introduction"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#introduction">Introduction üåç</a></h3>
<p>The <strong>Cloud Resume Challenge</strong> is a hands-on project designed to build a <strong>real-world cloud application</strong> while showcasing your skills in <strong>AWS, serverless architecture, and automation</strong>. Many implementations of this challenge use AWS SAM or manual setup via the AWS console, but in this series, I will demonstrate how to <strong>build the entire infrastructure using Terraform</strong>. üí°</p>
<h4 id="my-journey-to-terraform"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#my-journey-to-terraform"><strong>My Journey to Terraform</strong> üß∞</a></h4>
<p>When I first discovered the Cloud Resume Challenge, I was immediately intrigued by the hands-on approach to learning cloud technologies. Having some experience with traditional IT but wanting to transition to a more cloud-focused role, I saw this challenge as the perfect opportunity to showcase my skills.</p>
<p>I chose Terraform over AWS SAM or CloudFormation because:</p>
<ol>
<li><strong>Multi-cloud flexibility</strong> - While this challenge focuses on AWS, Terraform skills transfer to Azure, GCP, and other providers</li>
<li><strong>Declarative approach</strong> - I find the HCL syntax more intuitive than YAML for defining infrastructure</li>
<li><strong>Industry adoption</strong> - In my research, I found that Terraform was highly sought after in job postings</li>
<li><strong>Strong community</strong> - The extensive module registry and community support made learning easier</li>
</ol>
<p>This series reflects my personal journey through the challenge, including the obstacles I overcame and the lessons I learned along the way.</p>
<h4 id="why-terraform"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#why-terraform"><strong>Why Terraform?</strong> üõ†Ô∏è</a></h4>
<p>Terraform allows for <strong>Infrastructure as Code (IaC)</strong>, which:</p>
<ul>
<li><strong>Automates</strong> resource provisioning ü§ñ</li>
<li><strong>Ensures consistency</strong> across environments ‚úÖ</li>
<li><strong>Improves security</strong> by managing configurations centrally üîí</li>
<li><strong>Enables version control</strong> for infrastructure changes üìù</li>
</ul>
<p>This series assumes <strong>basic knowledge of Terraform</strong> and will focus on <strong>highlighting key Terraform code snippets</strong> rather than full configuration files.</p>
<h3 id="project-overview"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#project-overview">Project Overview üèóÔ∏è</a></h3>
<p>Let's visualize the architecture we'll be building throughout this series:</p>
<p><img alt="Basic Project Diagram" src="../../crc-aws/CRCArchitecture.png" /></p>
<h4 id="aws-services-used"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#aws-services-used"><strong>AWS Services Used</strong> ‚òÅÔ∏è</a></h4>
<p>The project consists of the following AWS components:</p>
<ul>
<li><strong>Frontend:</strong> Static website hosted on <strong>S3</strong> and delivered via <strong>CloudFront</strong>.</li>
<li><strong>Backend API:</strong> API Gateway, Lambda, and DynamoDB to track visitor counts.</li>
<li><strong>Security:</strong> IAM roles, API Gateway security, and <strong>AWS Certificate Manager (ACM)</strong> for HTTPS üîê.</li>
<li><strong>Automation:</strong> CI/CD with <strong>GitHub Actions</strong> to deploy infrastructure and update website content ‚ö°.</li>
</ul>
<h4 id="terraform-module-breakdown"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#terraform-module-breakdown"><strong>Terraform Module Breakdown</strong> üß©</a></h4>
<p>To keep the infrastructure modular and maintainable, we will define Terraform modules for each major component:</p>
<ol>
<li><strong>S3 Module</strong> üìÇ: Manages the static website hosting.</li>
<li><strong>CloudFront Module</strong> üåç: Ensures fast delivery and HTTPS encryption.</li>
<li><strong>Route 53 Module</strong> üì°: Handles DNS configuration.</li>
<li><strong>DynamoDB Module</strong> üìä: Stores visitor count data.</li>
<li><strong>Lambda Module</strong> üèóÔ∏è: Defines the backend API logic.</li>
<li><strong>API Gateway Module</strong> üîó: Exposes the Lambda function via a REST API.</li>
<li><strong>ACM Module</strong> üîí: Provides SSL/TLS certificates for secure communication.</li>
</ol>
<h3 id="setting-up-terraform"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#setting-up-terraform"><strong>Setting Up Terraform</strong> ‚öôÔ∏è</a></h3>
<p>Before deploying any resources, we need to set up <strong>Terraform and backend state management</strong> to store infrastructure changes securely.</p>
<h4 id="1-install-terraform-aws-cli"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#1-install-terraform-aws-cli"><strong>1. Install Terraform &amp; AWS CLI</strong> üñ•Ô∏è</a></h4>
<p>Ensure you have the necessary tools installed:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># Install Terraform</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>curl<span class="w"> </span>-fsSL<span class="w"> </span>https://apt.releases.hashicorp.com/gpg<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>gpg<span class="w"> </span>--dearmor<span class="w"> </span>-o<span class="w"> </span>/usr/share/keyrings/hashicorp-archive-keyring.gpg
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com </span><span class="k">$(</span>lsb_release<span class="w"> </span>-cs<span class="k">)</span><span class="s2"> main&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/apt/sources.list.d/hashicorp.list
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>terraform
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="c1"># Install AWS CLI</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>curl<span class="w"> </span><span class="s2">&quot;https://awscli.amazonaws.com/AWSCLIV2.pkg&quot;</span><span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;AWSCLIV2.pkg&quot;</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>sudo<span class="w"> </span>installer<span class="w"> </span>-pkg<span class="w"> </span>AWSCLIV2.pkg<span class="w"> </span>-target<span class="w"> </span>/
</span></code></pre></div>
<h4 id="2-configure-aws-credentials-securely"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#2-configure-aws-credentials-securely"><strong>2. Configure AWS Credentials Securely</strong> üîë</a></h4>
<p>Terraform interacts with AWS via credentials. Setting these up securely is crucial to avoid exposing sensitive information.</p>
<h5 id="setting-up-aws-account-structure"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#setting-up-aws-account-structure"><strong>Setting up AWS Account Structure</strong></a></h5>
<p>Following cloud security best practices, I recommend creating a proper AWS account structure:</p>
<ol>
<li><strong>Create a management AWS account</strong> for your organization</li>
<li><strong>Enable Multi-Factor Authentication (MFA)</strong> on the root account</li>
<li><strong>Create separate AWS accounts</strong> for development and production environments</li>
<li><strong>Set up AWS IAM Identity Center (formerly SSO)</strong> for secure access</li>
</ol>
<p>If you're just getting started, you can begin with a simpler setup:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Configure AWS CLI with a dedicated IAM user (not root account)</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>aws<span class="w"> </span>configure
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="c1"># Test your configuration</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>aws<span class="w"> </span>sts<span class="w"> </span>get-caller-identity
</span></code></pre></div>
<p>Set up <strong>IAM permissions</strong> for Terraform by ensuring your IAM user has the necessary policies for provisioning resources. Start with a least privilege approach and add permissions as needed.</p>
<h4 id="3-set-up-remote-backend-for-terraform-state"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#3-set-up-remote-backend-for-terraform-state"><strong>3. Set Up Remote Backend for Terraform State</strong> üè¢</a></h4>
<p>Using a <strong>remote backend</strong> (such as an <strong>S3 bucket</strong>) prevents local state loss and enables collaboration.</p>
<h5 id="project-directory-structure"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#project-directory-structure"><strong>Project Directory Structure</strong></a></h5>
<p>Here's how I've organized my Terraform project:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>cloud-resume-challenge/
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>‚îú‚îÄ‚îÄ modules/
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>‚îÇ   ‚îú‚îÄ‚îÄ frontend/
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.tf
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>‚îÇ   ‚îú‚îÄ‚îÄ backend/
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.tf
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>‚îÇ   ‚îî‚îÄ‚îÄ networking/
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>‚îÇ       ‚îú‚îÄ‚îÄ main.tf
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>‚îÇ       ‚îú‚îÄ‚îÄ variables.tf
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>‚îÇ       ‚îî‚îÄ‚îÄ outputs.tf
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>‚îú‚îÄ‚îÄ environments/
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>‚îÇ   ‚îú‚îÄ‚îÄ dev/
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.tf
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>‚îÇ   ‚îî‚îÄ‚îÄ prod/
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>‚îÇ       ‚îî‚îÄ‚îÄ main.tf
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a>‚îú‚îÄ‚îÄ terraform.tf (backend config)
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a>‚îú‚îÄ‚îÄ variables.tf
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a>‚îú‚îÄ‚îÄ outputs.tf
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a>‚îî‚îÄ‚îÄ main.tf
</span></code></pre></div>
<h5 id="define-the-backend-in-terraformtf"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#define-the-backend-in-terraformtf"><strong>Define the backend in <code>terraform.tf</code></strong></a></h5>
<div class="language-hcl highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nb">terraform</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">  </span><span class="kr">backend</span><span class="w"> </span><span class="nv">&quot;s3&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">    </span><span class="na">bucket</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my-terraform-state-bucket&quot;</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">    </span><span class="na">key</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;cloud-resume/state.tfstate&quot;</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">    </span><span class="na">region</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;us-east-1&quot;</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">    </span><span class="na">encrypt</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="no">true</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">    </span><span class="na">dynamodb_table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;terraform-lock&quot;</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w">  </span><span class="nb">required_providers</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="w">    </span><span class="nb">aws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="w">      </span><span class="na">source</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hashicorp/aws&quot;</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="w">      </span><span class="na">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;~&gt; 4.16&quot;</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="w">  </span><span class="na">required_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;&gt;= 1.2.0&quot;</span>
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="p">}</span>
</span></code></pre></div>
<h5 id="create-s3-bucket-and-dynamodb-table-for-backend"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#create-s3-bucket-and-dynamodb-table-for-backend"><strong>Create S3 Bucket and DynamoDB Table for Backend</strong></a></h5>
<p>Before you can use an S3 backend, you need to create the bucket and DynamoDB table. I prefer to do this via Terraform as well, using a separate configuration:</p>
<div class="language-hcl highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># backend-setup/main.tf</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="kr">provider</span><span class="w"> </span><span class="nv">&quot;aws&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">  </span><span class="na">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;us-east-1&quot;</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="p">}</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_s3_bucket&quot;</span><span class="w"> </span><span class="nv">&quot;terraform_state&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">  </span><span class="na">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my-terraform-state-bucket&quot;</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="p">}</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_s3_bucket_versioning&quot;</span><span class="w"> </span><span class="nv">&quot;terraform_state&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="w">  </span><span class="na">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_s3_bucket.terraform_state.id</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="w">  </span><span class="nb">versioning_configuration</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="w">    </span><span class="na">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Enabled&quot;</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a><span class="p">}</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_s3_bucket_server_side_encryption_configuration&quot;</span><span class="w"> </span><span class="nv">&quot;terraform_state&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="w">  </span><span class="na">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aws_s3_bucket.terraform_state.id</span>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="w">  </span><span class="nb">rule</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a><span class="w">    </span><span class="nb">apply_server_side_encryption_by_default</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a><span class="w">      </span><span class="na">sse_algorithm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;AES256&quot;</span>
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a><span class="p">}</span>
</span><span id="__span-16-25"><a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a>
</span><span id="__span-16-26"><a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a><span class="kr">resource</span><span class="w"> </span><span class="nc">&quot;aws_dynamodb_table&quot;</span><span class="w"> </span><span class="nv">&quot;terraform_locks&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-27"><a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a><span class="w">  </span><span class="na">name</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;terraform-lock&quot;</span>
</span><span id="__span-16-28"><a id="__codelineno-16-28" name="__codelineno-16-28" href="#__codelineno-16-28"></a><span class="w">  </span><span class="na">billing_mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;PAY_PER_REQUEST&quot;</span>
</span><span id="__span-16-29"><a id="__codelineno-16-29" name="__codelineno-16-29" href="#__codelineno-16-29"></a><span class="w">  </span><span class="na">hash_key</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LockID&quot;</span>
</span><span id="__span-16-30"><a id="__codelineno-16-30" name="__codelineno-16-30" href="#__codelineno-16-30"></a>
</span><span id="__span-16-31"><a id="__codelineno-16-31" name="__codelineno-16-31" href="#__codelineno-16-31"></a><span class="w">  </span><span class="nb">attribute</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-32"><a id="__codelineno-16-32" name="__codelineno-16-32" href="#__codelineno-16-32"></a><span class="w">    </span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LockID&quot;</span>
</span><span id="__span-16-33"><a id="__codelineno-16-33" name="__codelineno-16-33" href="#__codelineno-16-33"></a><span class="w">    </span><span class="na">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;S&quot;</span>
</span><span id="__span-16-34"><a id="__codelineno-16-34" name="__codelineno-16-34" href="#__codelineno-16-34"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-16-35"><a id="__codelineno-16-35" name="__codelineno-16-35" href="#__codelineno-16-35"></a><span class="p">}</span>
</span></code></pre></div>
<p>Run these commands to set up your backend:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nb">cd</span><span class="w"> </span>backend-setup
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>terraform<span class="w"> </span>init
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>terraform<span class="w"> </span>apply
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="nb">cd</span><span class="w"> </span>..
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>terraform<span class="w"> </span>init<span class="w">  </span><span class="c1"># Initialize with the S3 backend</span>
</span></code></pre></div>
<h3 id="a-note-on-security"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#a-note-on-security"><strong>A Note on Security</strong> üîí</a></h3>
<p>Throughout this series, I'll be emphasizing security best practices. Some key principles to keep in mind:</p>
<ol>
<li><strong>Never commit AWS credentials</strong> to your repository</li>
<li><strong>Use IAM roles with least privilege</strong> for all resources</li>
<li><strong>Enable encryption</strong> for sensitive data</li>
<li><strong>Implement proper security groups and network ACLs</strong></li>
<li><strong>Regularly rotate credentials and keys</strong></li>
</ol>
<p>These principles will be applied to our infrastructure as we build it in the upcoming posts.</p>
<h3 id="lessons-learned"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#lessons-learned"><strong>Lessons Learned</strong> üí°</a></h3>
<p>In my initial attempts at setting up the Terraform environment, I encountered several challenges:</p>
<ol>
<li>
<p><strong>State file management</strong>: I initially stored state locally, which caused problems when working from different computers. Switching to S3 backend solved this issue.</p>
</li>
<li>
<p><strong>Module organization</strong>: I tried several directory structures before settling on the current one. Organizing by component type rather than AWS service made the most sense for this project.</p>
</li>
<li>
<p><strong>Version constraints</strong>: Not specifying version constraints for providers led to unexpected behavior when Terraform updated. Always specify your provider versions!</p>
</li>
</ol>
<h3 id="next-steps"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#next-steps"><strong>Next Steps</strong> ‚è≠Ô∏è</a></h3>
<p>In the next post, we'll build the <strong>static website infrastructure</strong> with <strong>S3, CloudFront, Route 53, and ACM</strong>. We'll create Terraform modules for each component and deploy them together to host our resume.</p>
<h4 id="developer-mod-advanced-terraform-techniques"><a class="toclink" href="../../cloud-resume-challenge-with-terraform-introduction--setup/#developer-mod-advanced-terraform-techniques"><strong>Developer Mod: Advanced Terraform Techniques</strong> üöÄ</a></h4>
<p>If you're familiar with Terraform and want to take this challenge further, consider implementing these enhancements:</p>
<ol>
<li>
<p><strong>Terraform Cloud Integration</strong>: Connect your repository to Terraform Cloud for enhanced collaboration and run history.</p>
</li>
<li>
<p><strong>Terratest</strong>: Add infrastructure tests using the Terratest framework to validate your configurations.</p>
</li>
<li>
<p><strong>Custom Terraform Modules</strong>: Create reusable modules and publish them to the Terraform Registry.</p>
</li>
<li>
<p><strong>Terraform Workspaces</strong>: Use workspaces to manage multiple environments (dev, staging, prod) within the same Terraform configuration.</p>
</li>
</ol>
<hr />
<p><strong>Up Next:</strong> [Cloud Resume Challenge with Terraform: Deploying the Static Website] üîó</p>
<p><a class="md-button" href="https://x.com/intent/tweet?text=Cloud%20Resume%20Challenge%20with%20Terraform%3A%20Introduction%20%26%20Setup%0A&amp;url=https://blog.pollockweb.com/blog/cloud-resume-challenge-with-terraform-introduction--setup/">Share on <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg></span></a>
<a class="md-button" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.pollockweb.com/blog/cloud-resume-challenge-with-terraform-introduction--setup/">Share on <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a9 9 0 0 1 1.141.195v3.325a9 9 0 0 0-.653-.036 27 27 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.7 1.7 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647"/></svg></span></a></p>
    
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
      <nav class="md-post__authors md-typeset">
        
          <span class="md-author">
            <img src="https://avatars.githubusercontent.com/u/110421070?s=400&v=4" alt="Matthew Pollock">
          </span>
        
      </nav>
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2025-03-09 00:00:00+00:00">March 9, 2025</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="./" class="md-meta__link">DevOps</a>, 
              <a href="../microsoft-certifications/" class="md-meta__link">Microsoft Certifications</a>, 
              <a href="../ai--study-techniques/" class="md-meta__link">AI &amp; Study Techniques</a></li>
        
        
          
          <li class="md-meta__item">
            
              16 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/">How I Used ChatGPT to Create AZ-400 Exam Prep Notes from MSLearn</a></h2>
<h3 id="tldr-results-first"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#tldr-results-first">üöÄ TL;DR - Results First</a></h3>
<p>Using the method detailed in this post, I successfully <strong>passed the AZ-400 exam</strong> while creating a reusable study system. This approach helped me transform <strong>34+ hours of MSLearn content</strong> into structured, searchable revision notes that I could quickly reference during my exam preparation.</p>
<p>Let me walk you through how I developed this system and how you can apply it to your own certification journey.</p>
<h3 id="the-challenge"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#the-challenge">The Challenge</a></h3>
<p>Studying for Microsoft certification exams like <strong>AZ-400</strong> can be overwhelming due to the vast amount of content available. Microsoft Learn alone provides <strong>over 34 hours of recommended reading</strong>, making it difficult to retain everything effectively.</p>
<p>To tackle this challenge, I developed a <strong>structured method</strong> using <strong>MSLearn, third-party exam questions, and ChatGPT</strong> to create a comprehensive <strong>revision guide</strong>. This method helped me <strong>organize knowledge into concise notes, cheat sheets, glossaries, and knowledge checks</strong>, ultimately leading to a successful exam pass!</p>
<p>This guide documents my <strong>step-by-step process</strong> so that you can replicate or adapt it for your own Microsoft exam preparation.</p>
<h3 id="goals-of-this-study-approach"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#goals-of-this-study-approach">üèÜ Goals of This Study Approach</a></h3>
<p>My main objectives were:</p>
<ul>
<li>üìå <strong>Summarize each MSLearn module</strong> into easily digestible revision notes.</li>
<li>üìå <strong>Create a structured, searchable reference</strong> for later review.</li>
<li>üìå <strong>Store my notes in GitHub</strong> using Markdown for easy access.</li>
<li>üìå <strong>Use AI (ChatGPT) to extract and summarize key information</strong>.</li>
<li>üìå <strong>Supplement with third-party practice exams</strong> to test my knowledge.</li>
</ul>
<p>This method is <strong>not a quick win</strong> but provides an efficient, <strong>structured, and reusable</strong> way to prepare for any MSLearn-based exam.</p>
<h4 id="mslearn-collections-used"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#mslearn-collections-used">üîπ MSLearn Collections Used</a></h4>
<p>To ensure comprehensive coverage of the exam syllabus, I structured my studies around the <strong>official Microsoft Learn learning paths</strong>. Each path covers a key topic required for AZ-400 certification, including DevOps principles, CI/CD, infrastructure as code, and security best practices. I systematically worked through these collections, summarizing important concepts, capturing key insights, and using ChatGPT to refine the content into structured notes.</p>
<p>Below are the <strong>learning paths</strong> I followed, each linking directly to its respective Microsoft Learn module:</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/training/paths/az-400-work-git-for-enterprise-devops/?username=MattPollock-7884&amp;section=activity&amp;ns-enrollment-type=Collection&amp;ns-enrollment-id=7w1eik156rweq7">AZ-400 Development for Enterprise DevOps</a> ‚Äì Covers Git workflows, branch strategies, and repository management.</li>
<li><a href="https://learn.microsoft.com/en-us/training/paths/az-400-implement-ci-azure-pipelines-github-actions/?username=MattPollock-7884&amp;section=activity&amp;ns-enrollment-type=Collection&amp;ns-enrollment-id=7w1eik156rweq7">AZ-400 Implement CI with Azure Pipelines and GitHub Actions</a> ‚Äì Focuses on automating build and release processes with Azure Pipelines and GitHub Actions.</li>
<li><a href="https://learn.microsoft.com/en-us/training/paths/az-400-design-implement-release-strategy/?username=MattPollock-7884&amp;section=activity&amp;ns-enrollment-type=Collection&amp;ns-enrollment-id=7w1eik156rweq7">AZ-400 Design and Implement a Release Strategy</a> ‚Äì Covers feature flagging, blue-green deployments, and release management.</li>
<li><a href="https://learn.microsoft.com/en-us/training/paths/az-400-implement-secure-continuous-deployment/?username=MattPollock-7884&amp;section=activity&amp;ns-enrollment-type=Collection&amp;ns-enrollment-id=7w1eik156rweq7">AZ-400 Implement Secure Continuous Deployment</a> ‚Äì Discusses security measures for CI/CD pipelines.</li>
<li><a href="https://learn.microsoft.com/en-us/training/paths/az-400-manage-infrastructure-as-code-using-azure/?username=MattPollock-7884&amp;section=activity&amp;ns-enrollment-type=Collection&amp;ns-enrollment-id=7w1eik156rweq7">AZ-400 Manage Infrastructure as Code Using Azure</a> ‚Äì Focuses on managing cloud resources with Terraform, Bicep, and ARM templates.</li>
<li><a href="https://learn.microsoft.com/en-us/training/paths/az-400-design-implement-dependency-management-strategy/?username=MattPollock-7884&amp;section=activity&amp;ns-enrollment-type=Collection&amp;ns-enrollment-id=7w1eik156rweq7">AZ-400 Design and Implement a Dependency Management Strategy</a> ‚Äì Covers artifact management and dependency security.</li>
<li><a href="https://learn.microsoft.com/en-us/training/paths/az-400-implement-continuous-feedback/?username=MattPollock-7884&amp;section=activity&amp;ns-enrollment-type=Collection&amp;ns-enrollment-id=7w1eik156rweq7">AZ-400 Implement Continuous Feedback</a> ‚Äì Discusses monitoring and feedback loops for DevOps processes.</li>
<li><a href="https://learn.microsoft.com/en-us/training/paths/az-400-implement-security-validate-code-bases-compliance/?username=MattPollock-7884&amp;section=activity&amp;ns-enrollment-type=Collection&amp;ns-enrollment-id=7w1eik156rweq7">AZ-400 Implement Security and Validate Code Bases for Compliance</a> ‚Äì Focuses on DevSecOps principles and compliance validation.</li>
</ul>
<p>These resources formed the foundation of my study plan, ensuring alignment with the <strong>official exam objectives</strong>. I used these collections as the basis for my <strong>revision notes, AI-generated summaries, and knowledge checks</strong>.</p>
<hr />
<h3 id="process-overview"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#process-overview">üìä Process Overview</a></h3>
<p>Before diving into the detailed steps, here's an overview of the complete workflow:</p>
<div class="language-markdown highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>MSLearn Content ‚Üí Link Collection ‚Üí ChatGPT Summarization ‚Üí GitHub Storage ‚Üí Practice Testing ‚Üí Final Review
</span></code></pre></div>
<p>Estimated time investment per module:</p>
<ul>
<li>Manual link collection: ~15 minutes</li>
<li>AI summarization and refinement: ~30-60 minutes</li>
<li>Review and validation: ~30 minutes</li>
<li>Total per module: ~1-1.75 hours (compared to 3-4 hours of traditional study)</li>
</ul>
<p>These estimates are based on my experience after processing several modules. As you'll see in the learning curve section below, your first few modules might take longer as you refine your workflow.</p>
<p>Let's dive into each step of the process in detail.</p>
<hr />
<h3 id="step-1-collecting-and-organizing-mslearn-content"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#step-1-collecting-and-organizing-mslearn-content">üìå Step 1: Collecting and Organizing MSLearn Content</a></h3>
<p>MSLearn provides <strong>structured learning paths</strong>, but I needed a way to track important links and content. Here's how I manually compiled everything:</p>
<h4 id="manual-link-collection-process"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#manual-link-collection-process">üîπ Manual Link Collection Process</a></h4>
<ol>
<li>
<p><strong>Initial Setup</strong>: I created a dedicated folder structure on my computer with sub-folders for each learning path, mirroring the eventual GitHub repository structure.</p>
</li>
<li>
<p><strong>After each lesson</strong>: Captured all relevant <strong>hyperlinks</strong> and stored them in a <code>.txt</code> file within the appropriate folder. This was as simple as copy-pasting links while reading.</p>
</li>
<li>
<p><strong>At the end of each module</strong>: Consolidated all links into the text file and organized them by topic.</p>
</li>
<li>
<p><strong>Mapped content to official exam objectives</strong>: Fed the exam study guide into ChatGPT to check alignment, ensuring I wasn't missing critical areas.</p>
</li>
</ol>
<p>üì∏ <strong><img alt="Screenshot of collected links in text file" src="../../study-docs/MSLearn-links-example.png" /></strong></p>
<h5 id="before-after-example"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#before-after-example">Before &amp; After Example</a></h5>
<p><strong>Raw MSLearn Content:</strong></p>
<div class="language-markdown highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Unit Title: Implement branch policies in Azure Repos
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">-</span><span class="w"> </span>Configure branch policies
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">-</span><span class="w"> </span>Implement pull request approval processes
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="k">-</span><span class="w"> </span>Manage branch policy bypasses
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="k">-</span><span class="w"> </span>Configure auto-complete pull requests
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="k">-</span><span class="w"> </span>Configure branch policy permissions
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="k">-</span><span class="w"> </span>Configure build validation
</span></code></pre></div>
<p><strong>Transformed into Structured Notes:</strong></p>
<div class="language-markdown highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="gu">## Branch Policies in Azure Repos</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>Branch policies help teams protect important branches by:
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="k">-</span><span class="w"> </span>Requiring code reviews before merging
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="k">-</span><span class="w"> </span>Setting minimum number of reviewers (typically 2+)
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="k">-</span><span class="w"> </span>Enforcing build validation to prevent broken code
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="k">-</span><span class="w"> </span>Restricting direct pushes to protected branches
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="gu">### Key Configuration Options:</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>| Policy | Purpose | Real-world Usage |
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>|--------|---------|------------------|
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>| Minimum reviewers | Ensures code quality | Set to 2+ for production code |
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>| Build validation | Prevents broken builds | Configure with main CI pipeline |
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>| Comment resolution | Tracks issue fixes | Require resolution before merge |
</span></code></pre></div>
<p><strong>Lesson Learned</strong>: Consistent link collection during the learning process is much more efficient than trying to gather everything after completing a module. I developed a habit of copying links as I encountered them, which saved significant time later.</p>
<blockquote>
<p>üí° <em>Future Improvement</em>: Automating this process via a script could save time. A PowerShell or Python script could potentially scrape MSLearn modules for relevant links.</p>
</blockquote>
<hr />
<h3 id="step-2-using-ai-chatgpt-to-summarize-content"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#step-2-using-ai-chatgpt-to-summarize-content">üìå Step 2: Using AI (ChatGPT) to Summarize Content</a></h3>
<p>To turn raw MSLearn material into usable study notes, I <strong>fed collected links into ChatGPT</strong> and asked it to <strong>scrape and summarize key points</strong>.</p>
<p>I used <strong>ChatGPT 4</strong> for this process, as it provided better context handling and more accurate summaries than earlier versions.</p>
<p>The summarization workflow consisted of the following steps:</p>
<p>1Ô∏è‚É£ <strong>Collected MSLearn Links</strong> ‚Äì Compiled all module-related links into a text file.
2Ô∏è‚É£ <strong>Fed the Links into ChatGPT</strong> ‚Äì Asked ChatGPT to analyze and summarize key information.
3Ô∏è‚É£ <strong>Refined the Output Iteratively</strong> ‚Äì Adjusted prompts to enhance clarity and completeness.</p>
<h4 id="crafting-effective-chatgpt-prompts"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#crafting-effective-chatgpt-prompts">üîπ Crafting Effective ChatGPT Prompts</a></h4>
<p>Well-structured prompts were essential for generating <strong>clear and accurate</strong> summaries. Below is an example of my <strong>initial prompt</strong>:</p>
<div class="language-markdown highlight"><span class="filename">prompt - ChatGPT first iteration</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Please create a .md file in the same format as the previous ones and include the following:
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>Summarize key information within each unit, including diagrams, tables, and exercises and labs.
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>List steps performed and order of steps/workflow, where applicable.
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>Use tables primarily for comparing differences between items.
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>Include:
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>Key exam points.
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>Points to remember.
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>Prerequisite information.
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>Include any service limits - maximum minutes per month for a particular tier, difference services available in varying tiers/services/SKUs for example
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>Permissions required for activities.
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>Provide real-world applications, troubleshooting scenarios, and advanced tips.
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>Highlight common pitfalls or mistakes to avoid.
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>Review the canvas and add/remove any relevant information.
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>Use the web to search for supplementary material where necessary, and summarize this information within the notes.
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>Avoid external links‚Äîinclude all relevant information directly in the notes.
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>Ensure all &quot;Learning objectives&quot; in Unit 1 are met by the material included in the output .md file(s)
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>Ensure no content is included that doesn&#39;t have a real-world example or exam related reference included
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>Review the output you have created at the end, and make any further improvements automatically be manually revising the file or implementing your comments.
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>Here is a list of the links contained in this module.
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>Using the parameters outlined above create a comprehensive exam cram resource cheat sheet, that can be used for my AZ-400 exam prep.
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>The resulting output needs contain material relevant to the AZ-400 study guide:
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>https://learn.microsoft.com/en-us/credentials/certifications/resources/study-guides/az-400
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>Let me know when you are ready for the module links?
</span></code></pre></div>
<p>While this prompt worked initially, I found it had several limitations:</p>
<ul>
<li>It was too lengthy and complex for ChatGPT to consistently follow all instructions</li>
<li>It lacked specific formatting guidance</li>
<li>It didn't emphasize accuracy and relevance enough</li>
</ul>
<h4 id="prompt-evolution"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#prompt-evolution">üîπ Prompt Evolution</a></h4>
<p>I refined the prompt through several iterations to address these issues. The key improvements included:</p>
<ol>
<li><strong>Adding a clear word count limit</strong> (750 words per file) to prevent overly lengthy outputs</li>
<li><strong>Explicitly prohibiting generic statements</strong> like "understand X" and "know how to..."</li>
<li><strong>Requiring concrete examples for each concept</strong> rather than theoretical explanations</li>
<li><strong>Creating a more structured format</strong> with clear section headings and organization</li>
<li><strong>Adding a final validation step</strong> to ensure content aligned with learning objectives</li>
</ol>
<h5 id="initial-results-vs-refined-results"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#initial-results-vs-refined-results">Initial Results vs. Refined Results</a></h5>
<p><strong>First Iteration Output (Excerpt):</strong></p>
<div class="language-markdown highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="gu">## Key Exam Points</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">-</span><span class="w"> </span>Understand the different branch policies in Azure Repos
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="k">-</span><span class="w"> </span>Know how to configure pull request approvals
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="k">-</span><span class="w"> </span>Understand branch policy permissions
</span></code></pre></div>
<p><strong>Problems:</strong></p>
<ul>
<li>Too generic with "understand" and "know how" statements</li>
<li>Lacks specific examples and actionable information</li>
<li>No clear formatting structure</li>
</ul>
<p><strong>Refined Output (After Improved Prompt):</strong></p>
<div class="language-markdown highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="gu">## Branch Policies in Azure DevOps</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="gu">### Key Exam Points</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="k">-</span><span class="w"> </span>Branch policies in Azure Repos protect branches by enforcing code review and build validation
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="k">-</span><span class="w"> </span>Required reviewers policy must be configured with minimum count (2+ recommended for production)
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="k">-</span><span class="w"> </span>Build validation policy links CI pipeline to PR process, ensuring code builds successfully
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="k">-</span><span class="w"> </span>Policy bypasses can be granted to specific users or groups (Project Administrators have bypass by default)
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="k">-</span><span class="w"> </span>Branch policies are set at repository level under Branches ‚Üí [...] ‚Üí Branch Policies
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="gu">### Common Scenarios</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>When setting up branch policies for a large team:
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="k">1.</span> Configure minimum 2 reviewers for main branch
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="k">2.</span> Enable &quot;Comment resolution&quot; to require addressing feedback
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="k">3.</span> Link build validation to prevent broken builds
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="k">4.</span> Set reset votes when new changes are pushed
</span></code></pre></div>
<h4 id="challenges-solutions"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#challenges-solutions">üîπ Challenges &amp; Solutions</a></h4>
<p>Using AI to generate structured content wasn't always seamless. Here are some <strong>key challenges and how I addressed them</strong>:</p>
<table>
<thead>
<tr>
<th><strong>Challenge</strong></th>
<th><strong>Solution</strong></th>
<th><strong>Example</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ChatGPT lost context in long sessions</td>
<td>Processed module-by-module instead of bulk inputs</td>
<td>Split "Azure Pipelines" module into 3 separate prompts</td>
</tr>
<tr>
<td>Overwrote useful content in iterations</td>
<td>Manually saved outputs before requesting refinements</td>
<td>Created checkpoint files labeled v1, v2, etc.</td>
</tr>
<tr>
<td>Large data inputs led to incomplete summaries</td>
<td>Used <strong>multiple iterations</strong>, focusing on <strong>key areas</strong> of each module</td>
<td>First pass: core concepts; Second pass: examples and scenarios</td>
</tr>
<tr>
<td>Hallucinations on technical details</td>
<td>Cross-validated against official documentation</td>
<td>Corrected service limits and permission details</td>
</tr>
<tr>
<td>Generic "understand X" statements</td>
<td>Explicitly requested specific actionable information</td>
<td>Replaced "Understand CI/CD" with actual pipeline YAML examples</td>
</tr>
</tbody>
</table>
<p>Breaking down content into <strong>smaller chunks</strong> and applying <strong>manual validation</strong> helped ensure better results.</p>
<p><strong>Learning Curve</strong>: My first module took nearly 2 hours to process completely, as I was still figuring out the optimal prompt structure and workflow. By my fifth module, I had reduced this to about 45 minutes through improved prompting and a more streamlined approach.</p>
<hr />
<h4 id="refining-the-output"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#refining-the-output">üîπ Refining the Output</a></h4>
<p>To improve <strong>content accuracy</strong>, I introduced an additional <strong>review prompt</strong>:</p>
<div class="language-markdown highlight"><span class="filename">ChatGPT prompt - second iteration</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>Objective:
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>Create a .md file that acts as a comprehensive AZ-400 exam cram resource cheat sheet.
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>Instructions:
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>Act as my Azure DevOps training expert with a focus on preparing me for the AZ-400 exam.
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>The output must adhere to the structure and content requirements outlined below:
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>Content Requirements:
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>Each file should contain no more than 750 words (excluding text that make up hyperlinks)
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>Summarize Key Information:
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>Include summaries for each unit, diagram, table, exercise, and lab where applicable.
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>Use clear and concise explanations.
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>List Steps/Workflows:
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>Summarize steps performed in labs/exercises and the order of steps/workflows where applicable.
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>Use Tables:
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>Create tables primarily for comparing differences between items (examples, but not limited to - features, tiers, SKUs etc ).
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>Key Exam Points: Highlight crucial information likely to appear in the exam and provide actual examples. 
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>Do not use generic phrases like &quot;Understand....&quot; and  &quot;Know how to....&quot;. 
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>I need you to provide the information I need to know for each exam tip.
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a>Points to Remember: Provide concise, high-priority notes for studying.
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a>Prerequisite Information: Mention anything needed to understand or implement concepts.
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a>
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a>Service Limits: Include tier limitations (e.g., maximum minutes per month), service availability by SKU, etc.
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>
</span><span id="__span-6-32"><a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a>Permissions Required: Specify roles/permissions necessary for activities.
</span><span id="__span-6-33"><a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a>
</span><span id="__span-6-34"><a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a>Practical Applications:
</span><span id="__span-6-35"><a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a>Provide real-world applications, troubleshooting scenarios, and advanced tips.
</span><span id="__span-6-36"><a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a>Highlight common pitfalls or mistakes to avoid.
</span><span id="__span-6-37"><a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a>
</span><span id="__span-6-38"><a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a>Relevance:
</span><span id="__span-6-39"><a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a>Ensure the output aligns with the Microsoft AZ-400 study guide 
</span><span id="__span-6-40"><a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a>(https://learn.microsoft.com/en-us/credentials/certifications/resources/study-guides/az-400)
</span><span id="__span-6-41"><a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a>Exclude any content that lacks real-world examples or exam-related references.
</span><span id="__span-6-42"><a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a>
</span><span id="__span-6-43"><a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a>Final Review:
</span><span id="__span-6-44"><a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a>Evaluate the output to ensure all &quot;Learning Objectives&quot; in Unit 1 are met.
</span><span id="__span-6-45"><a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a>Automatically revise the file manually if needed to enhance clarity and completeness.
</span><span id="__span-6-46"><a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a>
</span><span id="__span-6-47"><a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a>
</span><span id="__span-6-48"><a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a>Prompt me for a list of URL&#39;s or an existing .md file when you have understood the instructions.
</span></code></pre></div>
<h4 id="iterative-refinement-technique"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#iterative-refinement-technique">üîπ Iterative Refinement Technique</a></h4>
<p>Depending on the results, I would often break the prompt up further, and just use a specific part.
For example, once I was happy with the results of a certain output I would re-enter the "Final Review:
Evaluate the output to ensure all "Learning Objectives" in Unit 1 are met."
Automatically revise the file manually if needed to enhance clarity and completeness." prompt, once or maybe several times until was happy with the finished output.</p>
<p>A typical module would go through 2-3 iterations:</p>
<ol>
<li><strong>Initial generation</strong> - Creates the basic structure and content</li>
<li><strong>Content enhancement</strong> - Adds real-world examples and specifics</li>
<li><strong>Final validation</strong> - Checks against learning objectives and improves clarity</li>
</ol>
<p>For complex topics like Azure Pipelines, I might need 4-5 iterations to fully refine the content.</p>
<h5 id="workflow-integration"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#workflow-integration">Workflow Integration</a></h5>
<p>I integrated this process into my daily study routine by:</p>
<ol>
<li>Reading a module in the morning</li>
<li>Collecting links as I went</li>
<li>Processing with ChatGPT during lunch break or after work</li>
<li>Reviewing and committing to GitHub in the evening</li>
</ol>
<p>This approach allowed me to maintain consistent progress without feeling overwhelmed.</p>
<h5 id="time-saving-tip"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#time-saving-tip">Time-Saving Tip</a></h5>
<p>A full module processing cycle typically took about 30-45 minutes, compared to 2-3 hours of traditional study and note-taking. The time investment was front-loaded, but paid dividends during revision.</p>
<hr />
<h3 id="step-3-integrating-third-party-exam-resources"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#step-3-integrating-third-party-exam-resources">üìå Step 3: Integrating Third-Party Exam Resources</a></h3>
<p>While MSLearn is great for structured content, <strong>real-world practice questions</strong> are crucial for exam success. I incorporated:</p>
<ul>
<li>‚úÖ <strong>MSLearn Official Practice Questions</strong></li>
<li>‚úÖ <strong>Third-Party Providers</strong>: Tutorials Dojo, MeasureUp</li>
<li>‚úÖ <strong>Exam Explanation Links</strong> (to validate answers)</li>
</ul>
<h4 id="how-i-validated-third-party-questions"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#how-i-validated-third-party-questions">üîπ How I Validated Third-Party Questions</a></h4>
<ul>
<li>Checked explanations for <strong>links to MSLearn documentation</strong>.</li>
<li>Manually cross-referenced answers with <strong>official study material</strong>.</li>
<li>Used my GitHub repo's search function to quickly verify concepts.</li>
</ul>
<h4 id="identifying-valuable-practice-questions"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#identifying-valuable-practice-questions">üîπ Identifying Valuable Practice Questions</a></h4>
<p>Not all practice questions are created equal. I prioritized questions that:</p>
<ol>
<li>Included detailed explanations with documentation links</li>
<li>Covered scenarios rather than simple definition recall</li>
<li>Tested practical knowledge rather than obscure facts</li>
<li>Referenced multiple concepts in a single question</li>
</ol>
<p>üì∏ <strong><img alt="TutorialsDojo example" src="../../study-docs/TD-example.png" title="TutorialsDojo exam question example" /></strong></p>
<h4 id="supplementary-resources-worth-the-investment"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#supplementary-resources-worth-the-investment">üîπ Supplementary Resources Worth The Investment</a></h4>
<p>Based on my experience, these additional resources provided the best value:</p>
<ol>
<li><strong>Tutorials Dojo Practice Exams</strong> - Excellent explanations and documentation links</li>
<li><strong>MeasureUp Official Practice Tests</strong> - Most similar to actual exam format</li>
<li><strong>WhizLabs Labs</strong> - Hands-on practice for key scenarios</li>
</ol>
<p>The combination of AI-summarized MSLearn content and targeted practice questions created a comprehensive exam preparation strategy.</p>
<p><strong>Real-World Application Example</strong>: During a practice exam, I encountered a question about configuring branch policies with required reviewers. Using my GitHub repository's search function, I quickly found the related notes I had created, which included the exact setting location and recommended configuration values. This allowed me to answer correctly and understand the underlying concept, rather than just memorizing an answer.</p>
<hr />
<h3 id="step-4-storing-notes-in-github-for-easy-reference"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#step-4-storing-notes-in-github-for-easy-reference">üìå Step 4: Storing Notes in GitHub for Easy Reference</a></h3>
<p>One key advantage of this method was <strong>storing all notes in a GitHub repository</strong>, allowing easy searchability.</p>
<h4 id="initial-github-repository-setup"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#initial-github-repository-setup">üîπ Initial GitHub Repository Setup</a></h4>
<ol>
<li><strong>Created a new GitHub repository</strong> specifically for my AZ-400 exam notes</li>
<li><strong>Established a folder structure</strong> that mirrored the MSLearn learning paths</li>
<li><strong>Set up a README</strong> with quick navigation links to major sections</li>
<li><strong>Created a consistent file naming convention</strong> (numbered by sequence in the learning path)</li>
</ol>
<h4 id="how-i-structured-my-notes"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#how-i-structured-my-notes">üîπ How I Structured My Notes</a></h4>
<p><strong>(VS Code folder structure represented in Markdown)</strong></p>
<div class="language-markdown highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>üìÇ AZ-400 - MS LEARN - EXAM NOTES/
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a> ‚îú‚îÄ‚îÄ üìÅ .github/
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a> ‚îÇ
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a> ‚îú‚îÄ‚îÄ üìÅ 1. AZ-400 Development for Enterprise DevOps/
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 1. Introduction to DevOps.md
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 2. Plan Agile with GitHub Projects and Azure Boards.md
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 3. Design and implement branch strategies and workflows.md
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 4. Collaborate with pull requests in Azure Repos.md
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 5. Explore Git hooks.md
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 6. Plan foster inner source.md
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 7. Manage and configure repositories.md
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 8. Identify technical debt.md
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a> ‚îÇ
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a> ‚îú‚îÄ‚îÄ üìÅ 2. AZ-400 Implement CI with Azure Pipelines and GitHub Actions/
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 1. Explore Azure Pipelines.md
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 2. Manage Azure Pipeline agents and pools.md
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 3. Describe pipelines and concurrency.md
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 4. Design and implement a pipeline strategy.md
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 5. Integrate with Azure Pipelines.md
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 6. Introduction to GitHub Actions.md
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 7. Learn continuous integration with GitHub Actions.md
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a> ‚îÇ    ‚îú‚îÄ‚îÄ 8. Design Container Build Strategy.md
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a> ‚îú‚îÄ‚îÄ üìÅ 3. AZ-400 Design and Implement a Release Strategy/
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a> ‚îú‚îÄ‚îÄ ...
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a> ‚îú‚îÄ‚îÄ üìÅ 4. AZ-400 Implement a Secure Continuous Deployment using Azure Pipelines/
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a> ‚îú‚îÄ‚îÄ ...
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a> ‚îú‚îÄ‚îÄ üìÅ 5. AZ-400 Manage Infrastructure as Code using Azure and DSC/
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a> ‚îú‚îÄ‚îÄ ...
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a> ‚îú‚îÄ‚îÄ üìÅ 6. AZ-400 Design and Implement a Dependency Management Strategy/
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a> ‚îú‚îÄ‚îÄ ...
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a> ‚îú‚îÄ‚îÄ üìÅ 7. AZ-400 Implement Continuous Feedback
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a> ‚îú‚îÄ‚îÄ ...
</span><span id="__span-7-33"><a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a> ‚îú‚îÄ‚îÄ üìÅ 8. AZ-400 Implement Security and Validate Code Bases for Compliance/
</span><span id="__span-7-34"><a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a> ‚îú‚îÄ‚îÄ ...
</span><span id="__span-7-35"><a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a> ‚îú‚îÄ‚îÄ üìÅ AZ-400 Tutorials Dojo - Exam Notes/
</span><span id="__span-7-36"><a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a> ‚îÇ    ‚îú‚îÄ‚îÄ Azure DevOps - Terms and Definitions - Pt 1.md
</span><span id="__span-7-37"><a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a> ‚îÇ    ‚îú‚îÄ‚îÄ Azure DevOps - Terms and Definitions - Pt 2.md
</span><span id="__span-7-38"><a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a> ‚îÇ    ‚îú‚îÄ‚îÄ Azure DevOps - Terms and Definitions - Pt 3.md
</span></code></pre></div>
<p>üì∏ <strong><img alt="GitHub repo structure" src="../../study-docs/GitHub-repo-structure.png" title="GitHub Repo structure" /></strong></p>
<h4 id="workflow-for-adding-new-notes"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#workflow-for-adding-new-notes">üîπ Workflow for Adding New Notes</a></h4>
<ol>
<li><strong>Create new markdown file</strong> in the appropriate folder</li>
<li><strong>Paste ChatGPT-generated content</strong> and review for accuracy</li>
<li><strong>Commit changes</strong> with descriptive commit messages (e.g., "Add Azure Pipelines agents notes")</li>
<li><strong>Push to GitHub</strong> to make available for searching during study sessions</li>
</ol>
<p>üîç <strong>Searching Notes Efficiently</strong></p>
<ul>
<li>Used <strong>GitHub's search function</strong> to quickly find terms (e.g., <code>MendBolt</code>).</li>
<li>This allowed me to <strong>cross-check answers during study sessions</strong>.</li>
</ul>
<h5 id="example-search-workflow"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#example-search-workflow">Example Search Workflow</a></h5>
<ol>
<li>Practice question mentions "Which Azure DevOps deployment strategy minimizes downtime during releases?"</li>
<li>One of the answers mnetions "Blue/Green" deployment</li>
<li>Search repository for "Blue/Green"</li>
<li>Results show multiple matching files.</li>
<li>Quickly identify that "Blue/Green deployment" is the correct answer based on my notes.</li>
<li>Verify with documentation reference that Blue/Green deployments maintain two identical production environments, allowing for instant switching between versions.</li>
</ol>
<p>üì∏ <strong><img alt="GitHub search in action" src="../../study-docs/GitHub-search.png" title="GitHub repo search example" /></strong></p>
<h4 id="real-world-performance-impact"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#real-world-performance-impact">üîπ Real-World Performance Impact</a></h4>
<p>During practice exams, I could typically locate key information in <strong>under 30 seconds</strong> using this method, compared to several minutes when using traditional notes or searching documentation directly.</p>
<hr />
<h3 id="results-key-takeaways"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#results-key-takeaways">üìå Results &amp; Key Takeaways</a></h3>
<p>üéØ <strong>Outcome:</strong></p>
<ul>
<li>‚úÖ Passed the AZ-400 exam! üéâ</li>
<li>‚úÖ Created a <strong>structured, reusable</strong> study guide.</li>
<li>‚úÖ Used AI efficiently to <strong>save time and condense information</strong>.</li>
<li>‚úÖ Reduced overall study time by approximately 40% compared to traditional methods.</li>
</ul>
<h4 id="time-investment-analysis"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#time-investment-analysis">üîπ Time Investment Analysis</a></h4>
<table>
<thead>
<tr>
<th>Activity</th>
<th>Traditional Approach</th>
<th>AI-Enhanced Approach</th>
<th>Time Savings</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reading MSLearn</td>
<td>34+ hours</td>
<td>8-10 hours</td>
<td>~70%</td>
</tr>
<tr>
<td>Note-taking</td>
<td>10-15 hours</td>
<td>5-7 hours</td>
<td>~50%</td>
</tr>
<tr>
<td>Organization</td>
<td>3-5 hours</td>
<td>2-3 hours</td>
<td>~40%</td>
</tr>
<tr>
<td>Practice &amp; Review</td>
<td>15-20 hours</td>
<td>15-20 hours</td>
<td>0%</td>
</tr>
<tr>
<td><strong>Total</strong></td>
<td><strong>62-74 hours</strong></td>
<td><strong>30-40 hours</strong></td>
<td><strong>~45%</strong></td>
</tr>
</tbody>
</table>
<p>These figures are based on my own experience and tracking of study time. Your results may vary depending on your familiarity with the subject matter and the tools involved. The key insight is that the most significant time savings came from condensing the initial reading phase while maintaining or even improving knowledge retention through structured notes.</p>
<h4 id="what-id-do-differently-next-time"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#what-id-do-differently-next-time">üîπ What I'd Do Differently Next Time</a></h4>
<p>üîπ Further <strong>break down</strong> the ChatGPT input process into <strong>smaller steps</strong><br />
üîπ Explore <strong>alternative AI tools</strong> like Claude or Bard to compare summary quality<br />
üîπ Consider <strong>automating link collection</strong> from MSLearn using a simple web scraper<br />
üîπ Create a <strong>standardized template</strong> for each module type from the beginning<br />
üîπ Add more <strong>visual elements</strong> like diagrams to represent complex relationships  </p>
<h4 id="would-i-recommend-this-approach"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#would-i-recommend-this-approach">üîπ Would I Recommend This Approach?</a></h4>
<p>‚úÖ Yes‚Äîbut only if you're prepared for an <strong>iterative, hands-on</strong> study process.</p>
<p>The greatest benefits were:</p>
<ol>
<li>Structured organization of complex information</li>
<li>Quick searchability during practice tests</li>
<li>Forced engagement with the material (rather than passive reading)</li>
<li>Creation of a reusable resource for future reference</li>
</ol>
<hr />
<h3 id="how-to-get-started-yourself"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#how-to-get-started-yourself">üöÄ How to Get Started Yourself</a></h3>
<h4 id="initial-setup-steps"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#initial-setup-steps">Initial Setup Steps</a></h4>
<p>Before diving into the content summarization, take these important setup steps:</p>
<ol>
<li><strong>Create your repository structure</strong>:</li>
<li>Set up a GitHub repository with appropriate folder structure</li>
<li>Create a README.md with navigation links</li>
<li>
<p>Establish a consistent file naming convention</p>
</li>
<li>
<p><strong>Set up a local workflow</strong>:</p>
</li>
<li>Create a folder structure on your computer mirroring your GitHub repo</li>
<li>Establish a system for collecting and storing links as you study</li>
<li>
<p>Set up a template for your ChatGPT prompts</p>
</li>
<li>
<p><strong>Gather your resources</strong>:</p>
</li>
<li>Bookmark all relevant MSLearn collections</li>
<li>Organize them according to the exam objectives</li>
<li>Create a schedule for working through them systematically</li>
</ol>
<h4 id="quick-start-template"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#quick-start-template">Quick Start Template</a></h4>
<p>Here's a simplified prompt template to get you started:</p>
<div class="language-markdown highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>I&#39;m studying for the [EXAM CODE] certification. Please help me create concise, exam-focused notes for the following module: [MODULE NAME]
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>For each key concept, please:
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="k">1.</span> Explain it in 1-2 sentences
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="k">2.</span> Provide a real-world example or scenario
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="k">3.</span> Note any configuration options or limitations
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="k">4.</span> Mention if it&#39;s likely to appear on the exam
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>Please format your response in Markdown with clear headings and avoid generic &quot;understand X&quot; statements.
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>Here are the links to the module content:
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>[PASTE LINKS HERE]
</span></code></pre></div>
<h4 id="complete-process"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#complete-process">Complete Process</a></h4>
<p>1Ô∏è‚É£ <strong>Set up a GitHub repo</strong> for your notes.<br />
2Ô∏è‚É£ <strong>Manually collect</strong> MSLearn hyperlinks as you study.<br />
3Ô∏è‚É£ <strong>Use ChatGPT</strong> to summarize module-by-module.<br />
4Ô∏è‚É£ <strong>Validate third-party questions</strong> with official docs.<br />
5Ô∏è‚É£ <strong>Store and search</strong> your notes in GitHub for quick reference.  </p>
<hr />
<h3 id="frequently-asked-questions"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#frequently-asked-questions">‚ùì Frequently Asked Questions</a></h3>
<p><strong>Q: Is this approach considered cheating?</strong>
A: No. This method enhances learning by actively engaging with the material rather than replacing study. You're creating custom notes by directing AI to extract and organize information you need to know.</p>
<p><strong>Q: How much technical knowledge do I need to implement this approach?</strong>
A: Basic GitHub knowledge and familiarity with markdown formatting are helpful but not essential. The core process can be adapted to use any note-taking system.</p>
<p><strong>Q: Does this work for all Microsoft certification exams?</strong>
A: Yes, this approach works well for any exam with structured MSLearn paths.</p>
<p><strong>Q: How do you handle inaccurate information from AI?</strong>
A: Always verify key technical details against official documentation. When in doubt, trust Microsoft's documentation over AI-generated content.</p>
<p><strong>Q: How long did it take you to become proficient with this workflow?</strong>
A: After completing about 3-4 modules, I had established an efficient workflow. The learning curve is relatively quick if you're already familiar with GitHub and ChatGPT.</p>
<hr />
<h3 id="final-thoughts"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#final-thoughts">üí¨ Final Thoughts</a></h3>
<p>This method made my <strong>exam prep structured and efficient</strong>, though it required <strong>significant manual effort</strong>. If you're preparing for a Microsoft certification, consider trying this approach!</p>
<p>The combination of <strong>AI-powered summarization</strong>, <strong>structured GitHub storage</strong>, and <strong>focused practice testing</strong> created a powerful study system that both saved time and improved retention.</p>
<p>The most valuable aspect wasn't just passing the exam, but creating a reusable knowledge base that continues to serve as a reference in my professional work. While traditional study methods might help you pass an exam, this approach helps build a lasting resource.</p>
<p>üí° <strong>Have you used AI tools for exam prep? Share your thoughts in the comments!</strong></p>
<hr />
<h3 id="additional-resources"><a class="toclink" href="../../how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/#additional-resources">üîó Additional Resources</a></h3>
<ul>
<li><a href="https://github.com/cloudlabmp/AZ-400---MS-Learn---Exam-Notes">My GitHub Repository Link</a></li>
<li><a href="https://learn.microsoft.com/en-us/training/paths/az-400-work-git-for-enterprise-devops/">Microsoft Learn AZ-400 Path</a></li>
<li><a href="https://learn.microsoft.com/en-us/credentials/certifications/devops-engineer/">Official AZ-400 Exam Page</a></li>
<li><a href="https://docs.github.com/">GitHub Documentation</a></li>
<li><a href="https://help.openai.com/">ChatGPT Documentation</a></li>
</ul>
<p><a class="md-button" href="https://x.com/intent/tweet?text=How%20I%20used%20ChatGPT%20to%20create%20AZ-400%20exam%20prep%20notes%20from%20MSLearn%0A&amp;url=https://blog.pollockweb.com/blog/how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/">Share on <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/></svg></span></a>
<a class="md-button" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.pollockweb.com/blog/how-i-used-chatgpt-to-create-az-400-exam-prep-notes-from-mslearn/">Share on <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a9 9 0 0 1 1.141.195v3.325a9 9 0 0 0-.653-.036 27 27 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.7 1.7 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647"/></svg></span></a></p>
    
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  
</nav>
        
      
    </div>
  </div>

          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        
  <div class="custom-footer">
    <div class="custom-footer-left">
      <p>Copyright &copy; 2025 Matthew Pollock</p>
    </div>
    <div class="custom-footer-right">
      <a href="https://github.com/cloudlabmp" target="_blank" title="GitHub">
        <i class="fab fa-github"></i>
      </a>
      <a href="https://linkedin.com/in/matthew-pollock-76831920/" target="_blank" title="LinkedIn">
        <i class="fab fa-linkedin"></i>
      </a>
      <a href="https://profile.pollockweb.com" target="_blank" title="profile.pollockweb.com">
        <i class="fas fa-globe"></i>
      </a>
      <a href="https://blog.pollockweb.com/feed_rss_created.xml" target="_blank" title="RSS Feed">
        <i class="fa-solid fa-rss"></i>
      </a>
    </div>
  </div>

      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "content.code.select", "content.code.copy", "announce.dismiss"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>